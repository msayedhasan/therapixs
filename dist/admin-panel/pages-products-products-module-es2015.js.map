{"version":3,"sources":["./src/app/pages/products/add-product/add-product.component.ts","./src/app/pages/products/add-product/add-product.component.html","./src/app/pages/products/edit-product/edit-product.component.ts","./src/app/pages/products/edit-product/edit-product.component.html","./src/app/pages/products/products-routing.module.ts","./src/app/pages/products/products.component.ts","./src/app/pages/products/products.component.html","./src/app/pages/products/products.module.ts"],"names":[],"mappings":"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","file":"pages-products-products-module-es2015.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormBuilder, Validators, FormArray } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\nimport { LanguageService } from '../../../services/language.service';\nimport { Subscription } from 'rxjs';\n\nimport { ProductsService } from '../products.service';\nimport { ProductAttributesService } from '../../product-attributes/product-attributes.service';\nimport { CategoriesService } from '../../categories/categories.service';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.component.html',\n  styleUrls: ['./add-product.component.scss'],\n})\nexport class AddProductComponent implements OnInit, OnDestroy {\n  photos;\n\n  private langSub: Subscription;\n  currentLang;\n  arabic: boolean;\n\n  constructor(\n    private fb: FormBuilder,\n    private productsService: ProductsService,\n    private productAttributeService: ProductAttributesService,\n    private categoriesService: CategoriesService,\n    private languageService: LanguageService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private router: Router\n  ) {\n    this.langSub = this.languageService.currentLanguage.subscribe((lang) => {\n      this.currentLang = lang;\n      if (this.currentLang && this.currentLang === 'ar') {\n        this.arabic = true;\n      } else {\n        this.arabic = false;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.langSub.unsubscribe();\n  }\n\n  form = this.fb.group({\n    photos: this.fb.array([]),\n    name: ['', Validators.required],\n    description: ['', Validators.required],\n    category: this.fb.group({\n      _id: [],\n      name: this.fb.group({\n        en: [],\n        ar: [],\n      }),\n    }),\n\n    properties: this.fb.array([\n      this.fb.group({\n        price: [0, Validators.required],\n        qty: [0, Validators.required],\n        productAttributes: this.fb.array([]),\n      }),\n    ]),\n  });\n\n  ngOnInit(): void {\n    this.getbaseCategoriesList();\n  }\n\n  // Start select dropdown\n  baseCategoryDropDown: InputSelectItem[];\n  subCategories = [];\n  selectedCategory = {};\n  selectedCategoryAttributes = [];\n  getbaseCategoriesList() {\n    this.spinner.show();\n    this.categoriesService.getBaseCategories();\n\n    this.categoriesService.baseCategories.subscribe((data) => {\n      if (data) {\n        this.baseCategoryDropDown = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']['en']}`,\n            nameAr: `${x['name']['ar']}`,\n          };\n        });\n      }\n    });\n    this.spinner.hide();\n  }\n  selectBaseCategory(event) {\n    this.selectedCategory = {};\n    this.subCategories = [];\n    this.resetProductAttributes();\n\n    if (event) {\n      this.selectedCategory = {};\n      this.selectedCategory[0] = event;\n\n      return this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[0] = res['data'].categories.map((x) => {\n                return {\n                  _id: x['_id'],\n                  nameEn: `${x['name']['en']}`,\n                  nameAr: `${x['name']['ar']}`,\n                };\n              });\n            }\n          }\n\n          if (res['data'].productAttributes) {\n            this.selectedCategoryAttributes = res['data'].productAttributes;\n            this.getproductAttributesList(res['data'].productAttributes);\n          }\n        },\n        (error) => {\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    } else {\n      this.selectedCategory = {};\n      this.subCategories = [];\n      this.resetProductAttributes();\n    }\n  }\n  // End select dropdown\n\n  selectSubCategory(fieldIndex, event) {\n    this.spinner.show();\n\n    this.resetProductAttributes();\n    // delete all next selected categories to index\n    for (const key in this.selectedCategory) {\n      if (key > fieldIndex + 1) {\n        delete this.selectedCategory[key];\n      }\n    }\n\n    // delete all next subcategories\n    this.subCategories.splice(fieldIndex + 1);\n\n    if (event) {\n      // selected category of index = event\n      this.selectedCategory[fieldIndex + 1] = event;\n\n      this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[fieldIndex + 1] = res['data'].categories.map(\n                (x) => {\n                  return {\n                    _id: x['_id'],\n                    nameEn: `${x['name']['en']}`,\n                    nameAr: `${x['name']['ar']}`,\n                  };\n                }\n              );\n            }\n          }\n          if (res['data'].productAttributes) {\n            this.selectedCategoryAttributes = res['data'].productAttributes;\n            this.getproductAttributesList(res['data'].productAttributes);\n          }\n        },\n        (error) => {\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    } else {\n      // selected category of index = event\n      delete this.selectedCategory[fieldIndex + 1];\n    }\n\n    this.spinner.hide();\n  }\n  // End select dropdown\n\n  // Start select dropdown\n  // dropdown lists for product attributes\n  attributesDropDown: [{ values: InputSelectItem[] }] = [{ values: [] }];\n\n  getproductAttributesList(attributes) {\n    const properties = this.form.get('properties') as FormArray;\n    for (let i = 0; i < properties['controls'].length; i++) {\n      const property = properties['controls'][i];\n      this.setArrayInGroup(property, attributes);\n    }\n  }\n\n  resetProductAttributes() {\n    this.attributesDropDown = [{ values: [] }];\n    for (let i = 0; i < this.form.get('properties')['controls'].length; i++) {\n      let productAttributes = this.form\n        .get('properties')\n        ['controls'][i].get('productAttributes') as FormArray;\n      while (productAttributes.length !== 0) {\n        productAttributes.removeAt(0);\n      }\n    }\n  }\n\n  addProperty() {\n    const properties = this.form.get('properties') as FormArray;\n    if (\n      properties['controls'][properties.length - 1].valid &&\n      this.selectedCategoryAttributes.length > 0\n    ) {\n      properties.push(\n        this.fb.group({\n          price: [0, Validators.required],\n          qty: [0, Validators.required],\n          productAttributes: this.fb.array([]),\n        })\n      );\n\n      this.setArrayInGroup(\n        properties['controls'][properties.length - 1],\n        this.selectedCategoryAttributes\n      );\n    }\n  }\n\n  removeProperty(ind) {\n    const properties = this.form.get('properties') as FormArray;\n    if (properties.controls.length > 1) {\n      properties.removeAt(ind);\n    }\n  }\n\n  setArrayInGroup(group, attributes) {\n    let productAttributes = group.get('productAttributes') as FormArray;\n    for (let i = 0; i < attributes.length; i++) {\n      this.attributesDropDown[i] = { values: [] };\n\n      // add product attributes to form\n      productAttributes.controls[i] = this.fb.group({\n        name: this.fb.group({\n          en: ['', Validators.required],\n          ar: [''],\n        }),\n        value: this.fb.group({\n          _id: ['', Validators.required],\n          en: ['', Validators.required],\n          ar: [''],\n        }),\n      });\n\n      productAttributes.controls[i]\n        .get('name')\n        .get('en')\n        .patchValue(attributes[i]['name']['en']);\n      productAttributes.controls[i]\n        .get('name')\n        .get('ar')\n        .patchValue(attributes[i]['name']['ar']);\n\n      // list of product attributes values to dropdown fields\n      for (\n        let valueIndex = 0;\n        valueIndex < attributes[i].values.length;\n        valueIndex++\n      ) {\n        this.attributesDropDown[i].values.push({\n          _id: attributes[i].values[valueIndex]['_id'],\n          nameEn: attributes[i].values[valueIndex]['en'],\n          nameAr: attributes[i].values[valueIndex]['ar'],\n        });\n      }\n    }\n  }\n\n  properties = [];\n  selectProductAttribute(event, propInd, attIndex) {\n    if (!this.properties[propInd]) {\n      this.properties[propInd] = [];\n    }\n    if (!this.properties[propInd][attIndex]) {\n      this.properties[propInd][attIndex] = [];\n    }\n    this.properties[propInd][attIndex] = event;\n  }\n\n  selectProductAttributeText(event, propInd, attIndex) {\n    if (!this.properties[propInd]) {\n      this.properties[propInd] = [];\n    }\n    if (!this.properties[propInd][attIndex]) {\n      this.properties[propInd][attIndex] = [];\n    }\n    this.properties[propInd][attIndex] = {\n      _id: `${propInd} ff ${attIndex}`,\n      nameEn: event.target.value,\n      nameAr: '',\n    };\n  }\n  // End select dropdown\n\n  onSubmit() {\n    this.spinner.show();\n    //** Start product attributes  */ */ */\n    //** adding values to product attributes form array controls */ */ */\n    for (\n      let index = 0;\n      index < this.form.get('properties')['controls'].length;\n      index++\n    ) {\n      const property = this.form.get('properties')['controls'][index];\n      let attributes = property.get('productAttributes') as FormArray;\n      for (let i = 0; i < attributes['controls'].length; i++) {\n        const att = attributes['controls'][i];\n        if (this.properties[index]) {\n          if (this.properties[index][i]) {\n            att\n              .get('value')\n              .get('_id')\n              .patchValue(this.properties[index][i]._id);\n            att\n              .get('value')\n              .get('en')\n              .patchValue(this.properties[index][i].nameEn);\n            att\n              .get('value')\n              .get('ar')\n              .patchValue(this.properties[index][i].nameAr);\n          }\n        }\n      }\n      attributes.patchValue(attributes.controls);\n    }\n    // adding values to product attributes form array controls\n    // End product attributes\n\n    /////////////////////////\n    // Start category\n    if (Object.keys(this.selectedCategory).length === 0) {\n      this.form.get('category').reset();\n    } else {\n      var count = 0;\n      for (var prop in this.selectedCategory) {\n        if (this.selectedCategory.hasOwnProperty(prop)) ++count;\n      }\n      if (this.selectedCategory[count - 1]) {\n        this.form\n          .get('category')\n          .get('_id')\n          .patchValue(this.selectedCategory[count - 1]._id);\n\n        this.form\n          .get('category')\n          .get('name')\n          .get('en')\n          .patchValue(this.selectedCategory[count - 1].nameEn);\n\n        this.form\n          .get('category')\n          .get('name')\n          .get('ar')\n          .patchValue(this.selectedCategory[count - 1].nameAr);\n      }\n    }\n    // End category\n    /////////////////////////\n\n    const formData = new FormData();\n\n    for (const key in this.form.value) {\n      if (key === 'photos') {\n        for (let i = 0; i < this.form.value[key].length; i++) {\n          formData.append(key, this.form.value[key][i]);\n        }\n      } else {\n        // contains object\n        formData.append(key, JSON.stringify(this.form.value[key]));\n      }\n    }\n\n    this.productsService.addOne(formData).subscribe(\n      (res) => {\n        this.photos = [];\n        this.form.reset();\n        this.toastr.info(res['message'], 'Info');\n        this.router.navigate(['/products']);\n        this.spinner.hide();\n      },\n      (error) => {\n        //** */\n        for (\n          let index = 0;\n          index < this.form.get('properties')['controls'].length;\n          index++\n        ) {\n          const property = this.form.get('properties')['controls'][index];\n          let attributes = property.get('productAttributes') as FormArray;\n          while (attributes.length !== 0) {\n            attributes.removeAt(0);\n          }\n        }\n        //** */\n\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n        this.spinner.hide();\n      }\n    );\n    this.spinner.hide();\n  }\n}\n","<ngx-spinner></ngx-spinner>\n<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23 grid-center-noGutter content\">\n    <div class=\"title col-24 grid-center\">\n      {{ \"add\" | lowercase | translate }}\n      {{ \"Product\" | lowercase | translate }}\n    </div>\n    <div class=\"form col-23\">\n      <div class=\"grid-middle-spaceBetween-noGutter\">\n        <div class=\"form-group grid-center-middle-noGutter col-24\">\n          <div class=\"col-24 grid-center\">\n            <app-upload-multi-photos\n              [photos]=\"photos\"\n              [control]=\"form.get('photos')\"\n            >\n            </app-upload-multi-photos>\n          </div>\n        </div>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Name'\"\n          [labelAr]=\"'الاسم'\"\n          [fieldId]=\"'name'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Product Name'\"\n          [placeholderAr]=\"'اسم المنتج'\"\n          [tooltipMsg]=\"'Name'\"\n          [control]=\"form.get('name')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-input-text>\n        <app-textarea\n          class=\"col-11_sm-24 grid-noGutter\"\n          [label]=\"'Description'\"\n          [labelAr]=\"'الوصف'\"\n          [fieldId]=\"'description'\"\n          type=\"text\"\n          [placeholder]=\"'Product description'\"\n          [placeholderAr]=\"'وصف المنتج'\"\n          [tooltipMsg]=\"'Product description'\"\n          [control]=\"form.get('description')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-textarea>\n\n        <div class=\"col-24 grid-noGutter\">\n          <app-select\n            class=\"col-11_sm-24\"\n            [label]=\"'Category'\"\n            [labelAr]=\"'القسم'\"\n            [fieldId]=\"'category'\"\n            [ItemsList]=\"baseCategoryDropDown\"\n            [placeholder]=\"'Choose parent category'\"\n            [placeholderAr]=\"'اختر القسم الرئيسي'\"\n            [fieldClass]=\"'col-18_md-24'\"\n            [required]=\"true\"\n            (itemselected)=\"selectBaseCategory($event)\"\n          >\n          </app-select>\n        </div>\n        <ng-container *ngFor=\"let category of subCategories; index as i\">\n          <div class=\"col-24 grid-noGutter\">\n            <app-select\n              class=\"col-11_sm-24\"\n              [label]=\"'sub category'\"\n              [labelAr]=\"'القسم الفرعي'\"\n              [fieldId]=\"'subCategory' + (i + 1).toString()\"\n              [ItemsList]=\"subCategories[i]\"\n              [placeholder]=\"'Choose category'\"\n              [placeholderAr]=\"'اختر القسم'\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectSubCategory(i, $event)\"\n            >\n            </app-select>\n          </div>\n        </ng-container>\n\n        <div class=\"grid-start-noGutter col-24\" style=\"margin-bottom: 15px\">\n          <b> {{ \"properties\" | lowercase | translate }}</b>\n        </div>\n        <ng-container\n          *ngFor=\"\n            let property of form.get('properties')['controls'];\n            index as propInd\n          \"\n        >\n          <ng-container *ngIf=\"propInd > 0\">\n            <div\n              class=\"col-24\"\n              style=\"height: 2px; background-color: #e9e9e9; margin: 10px\"\n            ></div>\n            <div class=\"col-24 actions\">\n              <div class=\"grid-right\">\n                <i\n                  class=\"material-icons\"\n                  tooltip=\"Remove property\"\n                  (click)=\"removeProperty(propInd)\"\n                  style=\"cursor: pointer\"\n                  >clear</i\n                >\n              </div>\n            </div>\n          </ng-container>\n          <app-input-text\n            class=\"col-11_sm-24\"\n            [label]=\"'Price'\"\n            [labelAr]=\"'السعر'\"\n            [fieldId]=\"'price'\"\n            [required]=\"true\"\n            type=\"number\"\n            [placeholder]=\"'Product Cost'\"\n            [placeholderAr]=\"'سعر المنتج'\"\n            [control]=\"property.get('price')\"\n            [fieldClass]=\"'col-18_md-24'\"\n          >\n          </app-input-text>\n          <app-input-text\n            class=\"col-11_sm-24 grid-noGutter\"\n            [label]=\"'Quantity'\"\n            [labelAr]=\"'الكمية'\"\n            [fieldId]=\"'qty'\"\n            [required]=\"true\"\n            type=\"number\"\n            [placeholder]=\"'Product quantity'\"\n            [placeholderAr]=\"'كمية المنتج'\"\n            [control]=\"property.get('qty')\"\n            [fieldClass]=\"'col-18_md-24'\"\n          >\n          </app-input-text>\n          <ng-container\n            *ngIf=\"property.get('productAttributes')['controls'].length > 0\"\n          >\n            <ng-container\n              *ngFor=\"\n                let att of property.get('productAttributes')['controls'];\n                index as attIndex\n              \"\n            >\n              <ng-container\n                *ngIf=\"attributesDropDown[attIndex].values.length > 0\"\n              >\n                <app-select\n                  class=\"col-11_sm-24\"\n                  [ngClass]=\"{\n                    'grid-noGutter': attIndex % 2 != 0\n                  }\"\n                  [label]=\"att.get('name').get('en').value\"\n                  [labelAr]=\"\n                    att.get('name').get('ar').value != ''\n                      ? att.get('name').get('ar').value\n                      : att.get('name').get('en').value\n                  \"\n                  [fieldId]=\"att.get('name').get('en').value\"\n                  [ItemsList]=\"attributesDropDown[attIndex].values\"\n                  [fieldClass]=\"'col-18_md-24'\"\n                  [required]=\"true\"\n                  (itemselected)=\"\n                    selectProductAttribute($event, propInd, attIndex)\n                  \"\n                >\n                </app-select>\n              </ng-container>\n\n              <ng-container\n                *ngIf=\"attributesDropDown[attIndex].values.length === 0\"\n              >\n                <div\n                  class=\"form-group col-11_sm-24 grid-center-middle-noGutter\"\n                >\n                  <div class=\"col_sm-24 grid_sm-noGutter\">\n                    <label [for]=\"att.get('name').get('en').value\">{{\n                      arabic\n                        ? att.get(\"name\").get(\"ar\").value\n                        : att.get(\"name\").get(\"en\").value\n                    }}</label>\n                  </div>\n                  <div class=\"col-18_md-24 grid\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      [id]=\"att.get('name').get('en').value\"\n                      autocomplete=\"off\"\n                      [placeholder]=\"\n                        arabic\n                          ? att.get('name').get('ar').value\n                          : att.get('name').get('en').value\n                      \"\n                      [tooltip]=\"\n                        arabic\n                          ? att.get('name').get('ar').value\n                          : att.get('name').get('en').value\n                      \"\n                      placement=\"top\"\n                      (input)=\"\n                        selectProductAttributeText($event, propInd, attIndex)\n                      \"\n                    />\n                  </div>\n                </div>\n\n                <!-- <app-input-text\n                  class=\"col-11_sm-24\"\n                  [ngClass]=\"{\n                    'grid-right': attIndex % 2 != 0\n                  }\"\n                  [label]=\"att.get('name').get('en').value\"\n                  [fieldId]=\"att.get('name').get('en').value\"\n                  [fieldClass]=\"'col-18_md-24'\"\n                  [required]=\"true\"\n                  type=\"text\"\n                  [placeholder]=\"att.get('name').get('en').value\"\n                >\n                </app-input-text> -->\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n      </div>\n\n      <ng-container *ngIf=\"selectedCategoryAttributes.length != 0\">\n        <!-- form.get('properties')['controls'][\n            form.get('properties')['controls'].length - 1\n          ].valid &&  -->\n        <button\n          (click)=\"addProperty()\"\n          class=\"btn color1\"\n          [disabled]=\"\n            !form.get('properties')['controls'][\n              form.get('properties')['controls'].length - 1\n            ].valid || selectedCategoryAttributes.length == 0\n          \"\n          style=\"margin-bottom: 20px\"\n        >\n          {{ \"Add\" | lowercase | translate }}\n          {{ \"property\" | lowercase | translate }}\n        </button></ng-container\n      >\n\n      <div class=\"grid-right\">\n        <button\n          type=\"submit\"\n          (click)=\"onSubmit()\"\n          class=\"btn col-3_sm-5_xs-6 color1 round\"\n          [disabled]=\"!form.valid\"\n        >\n          {{ \"Submit\" | lowercase | translate }}\n        </button>\n        <button\n          type=\"button\"\n          [routerLink]=\"['/products']\"\n          class=\"btn col-3_sm-5_xs-6 color2 round\"\n        >\n          {{ \"Cancel\" | lowercase | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { FormBuilder, Validators, FormArray } from '@angular/forms';\nimport { ProductsService } from '../products.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { CategoriesService } from '../../categories/categories.service';\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\nimport { LanguageService } from '../../../services/language.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.scss'],\n})\nexport class EditProductComponent implements OnInit, AfterViewInit {\n  originalPhotos = [];\n  productId;\n\n  private langSub: Subscription;\n  currentLang;\n  arabic: boolean;\n\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private productsService: ProductsService,\n    private categoriesService: CategoriesService,\n    private languageService: LanguageService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private router: Router\n  ) {\n    this.langSub = this.languageService.currentLanguage.subscribe((lang) => {\n      this.currentLang = lang;\n      if (this.currentLang && this.currentLang === 'ar') {\n        this.arabic = true;\n      } else {\n        this.arabic = false;\n      }\n    });\n  }\n\n  form = this.fb.group({\n    // originalPhotos: this.fb.array([]),\n    photos: this.fb.array([]),\n    name: ['', Validators.required],\n    description: ['', Validators.required],\n\n    category: this.fb.group({\n      _id: [],\n      name: this.fb.group({\n        en: [],\n        ar: [],\n      }),\n    }),\n\n    properties: this.fb.array([]),\n  });\n\n  ngOnInit(): void {\n    this.productId = this.route.snapshot.paramMap.get('id');\n    this.getbaseCategoriesList();\n  }\n  ngAfterViewInit() {\n    this.getOne(this.productId);\n  }\n\n  getOne(id) {\n    this.spinner.show();\n\n    this.productsService.getOne(id).subscribe(\n      (res) => {\n        // this.form.get('name').patchValue(res['data']['name']);\n        // this.form.get('description').patchValue(res['data']['description']);\n\n        this.form.patchValue(res['data']);\n\n        this.getCategory(res['data']['category']._id);\n\n        //** set initial selected category */\n        this.initialSelectedCategory = {\n          _id: res['data']['category']['_id'],\n          nameEn: res['data']['category']['en'],\n          nameAr: res['data']['category']['ar'],\n        };\n        this.selectedCategory = {};\n        this.selectedCategory[0] = {\n          _id: res['data']['category']['_id'],\n          nameEn: res['data']['category']['en'],\n          nameAr: res['data']['category']['ar'],\n        };\n        //** finish setting initial selected category */\n\n        this.originalPhotos = res['data']['photos'];\n        let photosControl = this.form.get('photos') as FormArray;\n        for (let index = 0; index < this.originalPhotos.length; index++) {\n          photosControl.push(this.fb.control(''));\n        }\n        this.form.get('photos').patchValue(res['data']['photos']);\n\n        this.toastr.info(res['message'], 'Info');\n\n        for (\n          let propIndex = 0;\n          propIndex < res['data']['properties'].length;\n          propIndex++\n        ) {\n          let propertyControl = this.form.get('properties') as FormArray;\n          propertyControl.push(\n            this.fb.group({\n              _id: [''],\n              price: [0, Validators.required],\n              qty: [0, Validators.required],\n              productAttributes: this.fb.array([]),\n            })\n          );\n\n          if (!this.properties[propIndex]) {\n            this.properties[propIndex] = [];\n          }\n          for (\n            let attIndex = 0;\n            attIndex <\n            res['data']['properties'][propIndex]['productAttributes'].length;\n            attIndex++\n          ) {\n            if (!this.properties[propIndex][attIndex]) {\n              this.properties[propIndex][attIndex] = [];\n            }\n\n            this.properties[propIndex][attIndex] = {\n              _id: res['data']['properties'][propIndex]['productAttributes'][\n                attIndex\n              ].value._id,\n              nameEn:\n                res['data']['properties'][propIndex]['productAttributes'][\n                  attIndex\n                ].value.en,\n              nameAr:\n                res['data']['properties'][propIndex]['productAttributes'][\n                  attIndex\n                ].value.ar,\n            };\n            // this.properties[propIndex][attIndex] =\n            //   res['data']['properties'][propIndex]['productAttributes'][\n            //     attIndex\n            //   ];\n          }\n        }\n        if (\n          res['data']['properties'] &&\n          res['data']['properties'].length === 0\n        ) {\n          let propertyControl = this.form.get('properties') as FormArray;\n          propertyControl.push(\n            this.fb.group({\n              _id: [''],\n              price: [0, Validators.required],\n              qty: [0, Validators.required],\n              productAttributes: this.fb.array([]),\n            })\n          );\n        }\n        this.form.get('properties').patchValue(res['data']['properties']);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  attributesDropDown: [{ values: InputSelectItem[] }] = [{ values: [] }];\n  selectedCategoryAttributes = [];\n  addProperty() {\n    this.initialSelectedProductAttribute.push([]);\n    const properties = this.form.get('properties') as FormArray;\n    if (properties['controls'][properties.length - 1].valid) {\n      properties.push(\n        this.fb.group({\n          _id: [''],\n          price: [0, Validators.required],\n          qty: [0, Validators.required],\n          productAttributes: this.fb.array([]),\n        })\n      );\n      this.setArrayInGroup(\n        properties['controls'][properties.length - 1],\n        this.selectedCategoryAttributes\n      );\n    }\n  }\n\n  removeProperty(ind) {\n    const properties = this.form.get('properties') as FormArray;\n    if (properties.controls.length > 1) {\n      properties.removeAt(ind);\n    }\n  }\n\n  getCategory(categoryId) {\n    this.spinner.show();\n\n    return this.categoriesService.getOne(categoryId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n\n        if (res['data'].productAttributes) {\n          this.selectedCategoryAttributes = res['data'].productAttributes;\n          this.getproductAttributesList(res['data'].productAttributes);\n        }\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  subCategories = [];\n  baseCategoryDropDown: InputSelectItem[];\n  selectedCategory = {};\n  initialSelectedCategory: InputSelectItem;\n  getbaseCategoriesList() {\n    this.spinner.show();\n    this.categoriesService.getBaseCategories();\n\n    this.categoriesService.baseCategories.subscribe((data) => {\n      if (data) {\n        this.baseCategoryDropDown = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']['en']}`,\n            nameAr: `${x['name']['ar']}`,\n          };\n        });\n      }\n    });\n    this.spinner.hide();\n  }\n  selectBaseCategory(event) {\n    this.selectedCategory = {};\n    this.subCategories = [];\n    this.resetProductAttributes();\n\n    if (event) {\n      this.selectedCategory = {};\n      this.selectedCategory[0] = event;\n\n      return this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[0] = res['data'].categories.map((x) => {\n                return {\n                  _id: x['_id'],\n                  nameEn: `${x['name']['en']}`,\n                  nameAr: `${x['name']['ar']}`,\n                };\n              });\n            }\n          }\n\n          if (res['data'].productAttributes) {\n            this.selectedCategoryAttributes = res['data'].productAttributes;\n            this.getproductAttributesList(res['data'].productAttributes);\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    } else {\n      this.selectedCategory = {};\n      this.subCategories = [];\n      this.resetProductAttributes();\n    }\n  }\n  // End select dropdown\n\n  selectSubCategory(fieldIndex, event) {\n    this.spinner.show();\n\n    this.resetProductAttributes();\n    // delete all next selected categories to index\n    for (const key in this.selectedCategory) {\n      if (key > fieldIndex + 1) {\n        delete this.selectedCategory[key];\n      }\n    }\n\n    // delete all next subcategories\n    this.subCategories.splice(fieldIndex + 1);\n\n    if (event) {\n      // selected category of index = event\n      this.selectedCategory[fieldIndex + 1] = event;\n\n      this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[fieldIndex + 1] = res['data'].categories.map(\n                (x) => {\n                  return {\n                    _id: x['_id'],\n                    nameEn: `${x['name']['en']}`,\n                    nameAr: `${x['name']['ar']}`,\n                  };\n                }\n              );\n            }\n          }\n          if (res['data'].productAttributes) {\n            this.selectedCategoryAttributes = res['data'].productAttributes;\n            this.getproductAttributesList(res['data'].productAttributes);\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    } else {\n      // selected category of index = event\n      delete this.selectedCategory[fieldIndex + 1];\n    }\n\n    this.spinner.hide();\n  }\n  resetProductAttributes() {\n    this.attributesDropDown = [{ values: [] }];\n    for (let i = 0; i < this.form.get('properties')['controls'].length; i++) {\n      let productAttributes = this.form\n        .get('properties')\n        ['controls'][i].get('productAttributes') as FormArray;\n      while (productAttributes.length !== 0) {\n        productAttributes.removeAt(0);\n      }\n    }\n  }\n\n  // End select dropdown\n\n  getproductAttributesList(attributes) {\n    const propertyControl = this.form.get('properties') as FormArray;\n    for (let i = 0; i < propertyControl['controls'].length; i++) {\n      const property = propertyControl['controls'][i];\n      this.setArrayInGroup(property, attributes);\n    }\n    this.getInitialAttributes();\n  }\n\n  initialSelectedProductAttribute: InputSelectItem[][] = [[]];\n\n  setArrayInGroup(group, attributes) {\n    let productAttributes = group.get('productAttributes') as FormArray;\n    for (let i = 0; i < attributes.length; i++) {\n      this.attributesDropDown[i] = { values: [] };\n\n      // add product attributes to form\n      productAttributes.controls[i] = this.fb.group({\n        name: this.fb.group({\n          en: ['', Validators.required],\n          ar: [''],\n        }),\n        value: this.fb.group({\n          _id: [''],\n          en: [''],\n          ar: [''],\n        }),\n      });\n\n      productAttributes.controls[i]\n        .get('name')\n        .get('en')\n        .patchValue(attributes[i]['name']['en']);\n      productAttributes.controls[i]\n        .get('name')\n        .get('ar')\n        .patchValue(attributes[i]['name']['ar']);\n\n      // list of product attributes values to dropdown fields\n      for (\n        let valueIndex = 0;\n        valueIndex < attributes[i].values.length;\n        valueIndex++\n      ) {\n        this.attributesDropDown[i].values.push({\n          _id: attributes[i].values[valueIndex]['_id'],\n          nameEn: attributes[i].values[valueIndex]['en'],\n          nameAr: attributes[i].values[valueIndex]['ar'],\n        });\n      }\n    }\n  }\n\n  getInitialAttributes() {\n    let propertyControl = this.form.get('properties') as FormArray;\n    for (\n      let propIndex = 0;\n      propIndex < propertyControl['controls'].length;\n      propIndex++\n    ) {\n      let attributes = propertyControl['controls'][propIndex].get(\n        'productAttributes'\n      ) as FormArray;\n\n      for (\n        let attIndex = 0;\n        attIndex < attributes['controls'].length;\n        attIndex++\n      ) {\n        const att = attributes['controls'][attIndex];\n        if (this.properties[propIndex][attIndex]) {\n          att\n            .get('value')\n            .get('_id')\n            .patchValue(this.properties[propIndex][attIndex]._id);\n          att\n            .get('value')\n            .get('en')\n            .patchValue(this.properties[propIndex][attIndex].nameEn);\n          att\n            .get('value')\n            .get('ar')\n            .patchValue(this.properties[propIndex][attIndex].nameAr);\n          if (!this.initialSelectedProductAttribute[propIndex]) {\n            this.initialSelectedProductAttribute[propIndex] = [];\n          }\n\n          this.initialSelectedProductAttribute[propIndex][attIndex] = {\n            _id: this.properties[propIndex][attIndex]._id,\n            nameEn: this.properties[propIndex][attIndex].nameEn,\n            nameAr: this.properties[propIndex][attIndex].nameAr,\n          };\n        }\n      }\n      attributes.patchValue(attributes.controls);\n    }\n  }\n\n  properties = [];\n  selectProductAttribute(event, propInd, attIndex) {\n    if (!this.properties[propInd]) {\n      this.properties[propInd] = [];\n    }\n    if (!this.properties[propInd][attIndex]) {\n      this.properties[propInd][attIndex] = [];\n    }\n    this.properties[propInd][attIndex] = event;\n  }\n\n  selectProductAttributeText(event, propInd, attIndex) {\n    if (!this.properties[propInd]) {\n      this.properties[propInd] = [];\n    }\n    if (!this.properties[propInd][attIndex]) {\n      this.properties[propInd][attIndex] = [];\n    }\n    this.properties[propInd][attIndex] = {\n      _id: `${propInd} ff ${attIndex}`,\n      nameEn: event.target.value,\n      nameAr: '',\n    };\n  }\n\n  onSubmit() {\n    this.spinner.show();\n\n    //** Start product attributes\n    //** adding values to product attributes form array controls\n    for (\n      let index = 0;\n      index < this.form.get('properties')['controls'].length;\n      index++\n    ) {\n      const property = this.form.get('properties')['controls'][index];\n      let attributes = property.get('productAttributes') as FormArray;\n      for (let i = 0; i < attributes['controls'].length; i++) {\n        const att = attributes['controls'][i];\n\n        if (this.properties[index]) {\n          if (this.properties[index][i]) {\n            att\n              .get('value')\n              .get('_id')\n              .patchValue(this.properties[index][i]._id);\n            att\n              .get('value')\n              .get('en')\n              .patchValue(this.properties[index][i].nameEn);\n            att\n              .get('value')\n              .get('ar')\n              .patchValue(this.properties[index][i].nameAr);\n          }\n        }\n      }\n      attributes.patchValue(attributes.controls);\n    }\n    //** adding values to product attributes form array controls\n    //** End product attributes\n\n    /////////////////////////\n    //** Start category\n    if (Object.keys(this.selectedCategory).length === 0) {\n      this.form.get('category').reset();\n    } else {\n      var count = 0;\n      for (var prop in this.selectedCategory) {\n        if (this.selectedCategory.hasOwnProperty(prop)) ++count;\n      }\n      if (this.selectedCategory[count - 1]) {\n        this.form\n          .get('category')\n          .get('_id')\n          .patchValue(this.selectedCategory[count - 1]._id);\n\n        this.form\n          .get('category')\n          .get('name')\n          .get('en')\n          .patchValue(this.selectedCategory[count - 1].nameEn);\n\n        this.form\n          .get('category')\n          .get('name')\n          .get('ar')\n          .patchValue(this.selectedCategory[count - 1].nameAr);\n      }\n    }\n    //** End category\n    /////////////////////////\n\n    const formData = new FormData();\n\n    for (const key in this.form.value) {\n      if (key === 'photos') {\n        for (let i = 0; i < this.form.value[key].length; i++) {\n          formData.append(key, this.form.value[key][i]);\n        }\n      } else {\n        // contains object\n        formData.append(key, JSON.stringify(this.form.value[key]));\n      }\n    }\n\n    this.productsService.updateOne(formData, this.productId).subscribe(\n      (res) => {\n        this.originalPhotos = [];\n        // this.form.reset();\n        this.toastr.info(res['message'], 'Info');\n        this.router.navigate(['/products']);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23 grid-center-noGutter content\">\n    <div class=\"title col-24 grid-center\">Edit Product</div>\n    <div class=\"form col-23\">\n      <div class=\"grid-middle-spaceBetween-noGutter\">\n        <div class=\"form-group grid-center-middle-noGutter col-24\">\n          <div class=\"col-24 grid-center\">\n            <app-upload-multi-photos\n              [initialPhotos]=\"originalPhotos\"\n              [control]=\"form.get('photos')\"\n            >\n            </app-upload-multi-photos>\n          </div>\n        </div>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Name'\"\n          [labelAr]=\"'الاسم'\"\n          [fieldId]=\"'name'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Product Name'\"\n          [placeholderAr]=\"'اسم المنتج'\"\n          [tooltipMsg]=\"'Name'\"\n          [control]=\"form.get('name')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-input-text>\n\n        <app-textarea\n          class=\"col-11_sm-24 grid-noGutter\"\n          [label]=\"'Description'\"\n          [labelAr]=\"'الوصف'\"\n          [fieldId]=\"'description'\"\n          type=\"text\"\n          [placeholder]=\"'Product description'\"\n          [placeholderAr]=\"'وصف المنتج'\"\n          [tooltipMsg]=\"'Product description'\"\n          [control]=\"form.get('description')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-textarea>\n\n        <div class=\"col-24 grid-noGutter\">\n          <app-select\n            class=\"col-11_sm-24\"\n            [label]=\"'Category'\"\n            [labelAr]=\"'القسم'\"\n            [fieldId]=\"'category'\"\n            [initialSelectedItem]=\"initialSelectedCategory\"\n            [ItemsList]=\"baseCategoryDropDown\"\n            [placeholder]=\"'Choose parent category'\"\n            [placeholderAr]=\"'اختر القسم الرئيسي'\"\n            [fieldClass]=\"'col-18_md-24'\"\n            [required]=\"true\"\n            (itemselected)=\"selectBaseCategory($event)\"\n          >\n          </app-select>\n        </div>\n        <ng-container *ngFor=\"let category of subCategories; index as i\">\n          <div class=\"col-24 grid-noGutter\">\n            <app-select\n              class=\"col-11_sm-24\"\n              [label]=\"'sub category'\"\n              [labelAr]=\"'القسم الفرعي'\"\n              [fieldId]=\"'subCategory' + (i + 1).toString()\"\n              [ItemsList]=\"subCategories[i]\"\n              [placeholder]=\"'Choose category'\"\n              [placeholderAr]=\"'اختر القسم'\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectSubCategory(i, $event)\"\n            >\n            </app-select>\n          </div>\n        </ng-container>\n\n        <div class=\"col-24\" style=\"margin-bottom: 15px\"><b> Properties</b></div>\n        <ng-container\n          *ngFor=\"\n            let property of form.get('properties')['controls'];\n            index as propInd\n          \"\n        >\n          <ng-container *ngIf=\"propInd > 0\">\n            <div\n              class=\"col-24\"\n              style=\"height: 2px; background-color: #e9e9e9; margin: 10px\"\n            ></div>\n            <div class=\"col-24 actions\">\n              <div class=\"grid-right\">\n                <i\n                  class=\"material-icons\"\n                  tooltip=\"Remove property\"\n                  (click)=\"removeProperty(propInd)\"\n                  style=\"cursor: pointer\"\n                  >clear</i\n                >\n              </div>\n            </div>\n          </ng-container>\n          <app-input-text\n            class=\"col-11_sm-24\"\n            [label]=\"'Price'\"\n            [labelAr]=\"'السعر'\"\n            [fieldId]=\"'price'\"\n            [required]=\"true\"\n            type=\"number\"\n            [placeholder]=\"'Product Cost'\"\n            [placeholderAr]=\"'السعر'\"\n            [control]=\"property.get('price')\"\n            [fieldClass]=\"'col-18_md-24'\"\n          >\n          </app-input-text>\n          <app-input-text\n            class=\"col-11_sm-24 grid-noGutter\"\n            [label]=\"'Quantity'\"\n            [labelAr]=\"'الكمية'\"\n            [fieldId]=\"'qty'\"\n            [required]=\"true\"\n            type=\"number\"\n            [placeholder]=\"'Product quantity'\"\n            [placeholderAr]=\"'كمية المنتج'\"\n            [control]=\"property.get('qty')\"\n            [fieldClass]=\"'col-18_md-24'\"\n          >\n          </app-input-text>\n          <ng-container\n            *ngIf=\"property.get('productAttributes')['controls'].length > 0\"\n          >\n            <ng-container\n              *ngFor=\"\n                let att of property.get('productAttributes')['controls'];\n                index as attIndex\n              \"\n            >\n              <ng-container\n                *ngIf=\"attributesDropDown[attIndex].values.length > 0\"\n              >\n                <app-select\n                  class=\"col-11_sm-24\"\n                  [ngClass]=\"{\n                    'grid-noGutter': attIndex % 2 != 0\n                  }\"\n                  [label]=\"att.get('name').get('en').value\"\n                  [labelAr]=\"att.get('name').get('ar').value\"\n                  [placeholder]=\"att.get('name').get('en').value\"\n                  [placeholderAr]=\"att.get('name').get('ar').value\"\n                  [fieldId]=\"att.get('name').get('en').value\"\n                  [initialSelectedItem]=\"\n                    initialSelectedProductAttribute[propInd][attIndex]\n                  \"\n                  [ItemsList]=\"attributesDropDown[attIndex].values\"\n                  [fieldClass]=\"'col-18_md-24'\"\n                  [required]=\"true\"\n                  (itemselected)=\"\n                    selectProductAttribute($event, propInd, attIndex)\n                  \"\n                >\n                </app-select>\n              </ng-container>\n\n              <ng-container\n                *ngIf=\"attributesDropDown[attIndex].values.length === 0\"\n              >\n                <div\n                  class=\"form-group col-11_sm-24 grid-center-middle-noGutter\"\n                >\n                  <div\n                    [ngClass]=\"{\n                      grid: attIndex % 2 != 0\n                    }\"\n                    class=\"col_sm-24 grid_sm-noGutter\"\n                  >\n                    <label [for]=\"att.get('name').get('en').value\">{{\n                      arabic\n                        ? att.get(\"name\").get(\"ar\").value\n                        : att.get(\"name\").get(\"en\").value\n                    }}</label>\n                  </div>\n                  <div class=\"col-18_md-24 grid\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      [id]=\"att.get('name').get('en').value\"\n                      autocomplete=\"off\"\n                      [placeholder]=\"\n                        arabic\n                          ? att.get('name').get('ar').value\n                          : att.get('name').get('en').value\n                      \"\n                      [tooltip]=\"\n                        arabic\n                          ? att.get('name').get('ar').value\n                          : att.get('name').get('en').value\n                      \"\n                      [value]=\"\n                        att.get('value').get('en').value &&\n                        att.get('value').get('en').value != ''\n                          ? att.get('value').get('en').value\n                          : att.get('value').get('ar').value\n                      \"\n                      placement=\"top\"\n                      (input)=\"\n                        selectProductAttributeText($event, propInd, attIndex)\n                      \"\n                    />\n                  </div>\n                </div>\n\n                <!-- <app-input-text\n              class=\"col-11_sm-24\"\n              [ngClass]=\"{\n                'grid-right': attIndex % 2 != 0\n              }\"\n              [label]=\"att.get('name').get('en').value\"\n              [fieldId]=\"att.get('name').get('en').value\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              type=\"text\"\n              [placeholder]=\"att.get('name').get('en').value\"\n            >\n            </app-input-text> -->\n              </ng-container>\n            </ng-container>\n          </ng-container>\n        </ng-container>\n\n        <!-- <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Price'\"\n          [fieldId]=\"'price'\"\n          [required]=\"true\"\n          type=\"number\"\n          [placeholder]=\"'Product Cost'\"\n          [control]=\"form.get('price')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-input-text>\n        <app-input-text\n          class=\"col-11_sm-24 grid-right\"\n          [label]=\"'Qty'\"\n          [fieldId]=\"'qty'\"\n          [required]=\"true\"\n          type=\"number\"\n          [placeholder]=\"'Product Cost'\"\n          [control]=\"form.get('qty')\"\n          [fieldClass]=\"'col-18_md-24'\"\n        >\n        </app-input-text> -->\n        <!-- <ng-container\n          *ngIf=\"form.get('productAttributes')['controls'].length > 0\"\n        >\n          <ng-container\n            *ngFor=\"\n              let att of form.get('productAttributes')['controls'];\n              index as attIndex\n            \"\n          >\n            <app-multi-select\n              class=\"col-11_sm-24\"\n              [ngClass]=\"{\n                'grid-right': attIndex % 2 != 0\n              }\"\n              [label]=\"\n                att.get('name').get('en').value +\n                '(' +\n                att.get('name').get('ar').value +\n                ')'\n              \"\n              [fieldId]=\"att.get('name').get('en').value\"\n              [ItemsList]=\"selectProductAttributesListValues[attIndex].values\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectProductAttribute($event, attIndex)\"\n            >\n            </app-multi-select>\n          </ng-container>\n        </ng-container> -->\n      </div>\n      <ng-container *ngIf=\"form.get('properties')['controls'].length > 0\">\n        <button\n          style=\"margin-bottom: 20px\"\n          (click)=\"addProperty()\"\n          class=\"btn color1\"\n          [disabled]=\"\n            !form.get('properties')['controls'][\n              form.get('properties')['controls'].length - 1\n            ].valid\n          \"\n        >\n          {{ \"Add\" | lowercase | translate }}\n          {{ \"property\" | lowercase | translate }}\n        </button>\n      </ng-container>\n      <div class=\"grid-right\">\n        <button\n          type=\"submit\"\n          (click)=\"onSubmit()\"\n          class=\"btn col-3_sm-5_xs-6 color1 round\"\n          [disabled]=\"!form.valid\"\n        >\n          {{ \"Submit\" | lowercase | translate }}\n        </button>\n        <button\n          type=\"button\"\n          [routerLink]=\"['/products']\"\n          class=\"btn col-3_sm-5_xs-6 color2 round\"\n        >\n          {{ \"Cancel\" | lowercase | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ProductsComponent } from './products.component';\nimport { AddProductComponent } from './add-product/add-product.component';\nimport { EditProductComponent } from './edit-product/edit-product.component';\n\nconst routes: Routes = [\n  { path: '', component: ProductsComponent },\n  { path: 'add', component: AddProductComponent },\n  { path: 'edit/:id', component: EditProductComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductsRoutingModule {}\n","import { Component, OnInit, TemplateRef, ElementRef } from '@angular/core';\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { DataTableResource } from 'angular7-data-table';\n\nimport { LanguageService } from '../../services/language.service';\nimport { Subscription } from 'rxjs';\n\nimport { ProductsService } from './products.service';\nimport { StoresService } from '../stores/stores.service';\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\nimport { FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport {\n  ExportAsService,\n  ExportAsConfig,\n  SupportedExtensions,\n} from 'ngx-export-as';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss'],\n})\nexport class ProductsComponent implements OnInit {\n  itemResource;\n  items = [];\n  itemCount = 0;\n  limit = 20;\n  limits = [20, 25, 50];\n  offset = 1;\n  tableElements = [];\n\n  modalRef: any;\n\n  private lastPageSub: Subscription;\n  private newPagination;\n  private lastPagination;\n\n  private langSub: Subscription;\n  currentLang;\n  arabic: boolean;\n\n  constructor(\n    private productsService: ProductsService,\n    private storesService: StoresService,\n    private languageService: LanguageService,\n    private modalService: BsModalService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private fb: FormBuilder,\n    private router: Router,\n    private elRef: ElementRef,\n    private exportAsService: ExportAsService\n  ) {\n    this.setNow();\n\n    this.langSub = this.languageService.currentLanguage.subscribe((lang) => {\n      this.currentLang = lang;\n      if (this.currentLang && this.currentLang === 'ar') {\n        this.arabic = true;\n      } else {\n        this.arabic = false;\n      }\n    });\n\n    this.lastPageSub = this.productsService.lastParsedPage.subscribe((data) => {\n      if (data) {\n        if (!this.newPagination && data) {\n          this.newPagination = data;\n        }\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.langSub.unsubscribe();\n    this.lastPageSub.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n\n    this.productsService.getAll();\n\n    this.productsService.products.subscribe(async (data) => {\n      if (data) {\n        this.items = data;\n\n        data.sort((a, b) => (a.active === b.active ? 0 : !a.active ? -1 : 1));\n\n        this.itemResource = new DataTableResource(data);\n        this.itemCount = await this.itemResource.count();\n\n        this.reloadItems({\n          offset: 0,\n          limit: this.limit,\n        });\n\n        if (this.newPagination) {\n          let nextBtn = this.elRef.nativeElement.querySelector(\n            'button.btn.btn-default.pagination-nextpage'\n          );\n          let previousBtn = this.elRef.nativeElement.querySelector(\n            'button.btn.btn-default.pagination-prevpage'\n          );\n\n          let clicks = this.newPagination.offset / 20;\n          for (let index = 0; index < clicks; index++) {\n            nextBtn.click();\n          }\n          return previousBtn.click();\n        }\n      }\n    });\n\n    this.spinner.hide();\n  }\n\n  savePagination() {\n    this.productsService.pagination(this.lastPagination);\n  }\n\n  async reloadItems(event) {\n    this.lastPagination = event;\n\n    if (this.itemResource) {\n      this.tableElements = await this.itemResource.query(event);\n    }\n  }\n\n  async FilterRecords(FilterRecord) {\n    this.tableElements = this.items;\n    if (FilterRecord !== '') {\n      this.tableElements = this.items.filter(\n        (item) =>\n          item.name.toLowerCase().includes(FilterRecord) ||\n          item.category?.en.toLowerCase().includes(FilterRecord) ||\n          item.creator?.name.toLowerCase().includes(FilterRecord) ||\n          item.store?.name.toLowerCase().includes(FilterRecord)\n      );\n    }\n\n    this.itemResource = new DataTableResource(this.tableElements);\n    this.itemCount = await this.itemResource.count();\n    this.reloadItems({\n      offset: 0,\n      limit: this.limit,\n    });\n  }\n\n  // Start select dropdown\n  selectStoresList: InputSelectItem[];\n  selectedStoreId: string;\n  getStoresList() {\n    this.spinner.show();\n\n    this.storesService.getAll();\n\n    this.storesService.stores.subscribe((data) => {\n      if (data) {\n        this.selectStoresList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']}`,\n            nameAr: ``,\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectStore(event) {\n    if (event) {\n      this.selectedStoreId = event._id;\n    }\n  }\n  // End select dropdown\n\n  addProductToStore() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService\n      .addProductToStore(this.itemId, this.selectedStoreId)\n      .subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          this.items = [];\n\n          this.productsService.getAll();\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n\n    this.spinner.hide();\n  }\n\n  itemId;\n  openModal(template: TemplateRef<any>, id) {\n    this.itemId = id;\n    this.modalRef = this.modalService.show(template);\n  }\n\n  discountForm = this.fb.group({\n    discountType: [''],\n    discountValue: [0],\n    discountPercentage: [0],\n    validTill: [],\n  });\n\n  minDate = new Date();\n  datePickerValue: Date = new Date();\n  time: string;\n  forPeriod = false;\n  setNow() {\n    let now = new Date();\n    let hours = ('0' + now.getHours()).slice(-2);\n    let minutes = ('0' + now.getMinutes()).slice(-2);\n    let str = hours + ':' + minutes;\n    this.time = str;\n  }\n  changePeriod(event) {\n    if (!event.target.checked) {\n      this.discountForm.get('validTill').patchValue(undefined);\n    }\n  }\n\n  copyElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.copyOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n        this.router.navigate([`./products/edit/${res['data']._id}`]);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  addDiscount() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n\n    if (this.forPeriod) {\n      var validTill = new Date(\n        this.datePickerValue.getFullYear(),\n        this.datePickerValue.getMonth(),\n        this.datePickerValue.getDate(),\n        parseInt(this.time.split(':')[0]),\n        parseInt(this.time.split(':')[1]),\n        0\n      );\n\n      this.discountForm.get('validTill').patchValue(validTill);\n    }\n\n    this.productsService\n      .addDiscount(this.discountForm.value, this.itemId)\n      .subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          this.items = [];\n\n          this.discountForm.reset();\n          this.productsService.getAll();\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n\n    this.spinner.hide();\n  }\n\n  deleteDiscount() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.deleteDiscount(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  deleteElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.deleteOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  activateElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.activateOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  deactivateElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.deactivateOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  soldElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.soldOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  availableElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.productsService.availableOne(this.itemId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.productsService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  exportAsConfig: ExportAsConfig = {\n    type: 'pdf',\n    elementIdOrContent: 'my-table',\n    options: {\n      jsPDF: {\n        orientation: 'landscape',\n      },\n    },\n  };\n  exportAs(type: SupportedExtensions, opt?: string) {\n    this.exportAsConfig.type = type;\n    if (opt) {\n      this.exportAsConfig.options.jsPDF.orientation = opt;\n    }\n    this.exportAsService.save(this.exportAsConfig, 'Products').subscribe(() => {\n      // save started\n    });\n    this.exportAsService.get(this.exportAsConfig).subscribe((content) => {\n    });\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23\" style=\"margin-top: 20px\">\n    <div class=\"card\">\n      <div class=\"card-header grid-noGutter\">\n        <span>{{ \"Products\" | lowercase | translate }}</span>\n      </div>\n      <div class=\"card-body grid-center-noGutter\">\n        <div class=\"col-24 grid-spaceBetween-noGutter\">\n          <div class=\"card xs-hidden\">\n            <div class=\"card-body\">\n              <span\n                style=\"\n                  display: inline-block;\n                  background-color: #4899c2;\n                  padding: 15px;\n                  color: white;\n                \"\n              >\n                <i class=\"material-icons\">home</i>\n              </span>\n              <div style=\"display: inline-block; margin: 0 10px\">\n                <div style=\"color: #20a8d8; font-size: 18px; font-weight: 600\">\n                  {{ items.length }}\n                </div>\n                <div style=\"color: #73818f; font-size: 80%; font-weight: 700\">\n                  {{ \"Products\" | lowercase | translate }}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-top xs-24 grid-noGutter\" style=\"margin-top: 15px\">\n            <div class=\"col-3_xlg-4_lg-6_sm-10 grid-column-noGutter\">\n              <a [routerLink]=\"['./add']\" class=\"btn color1 round addbtn\"\n                >{{ \"add\" | lowercase | translate }}\n                {{ \"Product\" | lowercase | translate }}</a\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"col-24 grid-center-noGutter\" style=\"margin-top: 20px\">\n          <div class=\"col-24 grid-noGutter\">\n            <div\n              class=\"col-12_xs-24 grid-left-noGutter\"\n              style=\"margin-left: 10px\"\n            >\n              <label\n                class=\"col-24 grid-noGutter\"\n                style=\"font-weight: bold\"\n                for=\"\"\n                >{{ \"Search for\" | lowercase | translate }}</label\n              >\n              <div class=\"col-24 grid\">\n                <input\n                  type=\"text\"\n                  #FilterRecord\n                  class=\"form-control col\"\n                  placeholder=\"e.g. Name, Creator, Store\"\n                />\n                <a\n                  (click)=\"FilterRecords(FilterRecord.value)\"\n                  class=\"btn col-4 color1 round search\"\n                >\n                  <span class=\"md-hidden\">{{\n                    \"search\" | lowercase | translate\n                  }}</span>\n                  <span><i class=\"material-icons\">search</i></span>\n                </a>\n                <a\n                  (click)=\"FilterRecords(''); FilterRecord.value = ''\"\n                  class=\"btn col-4 color2 round search\"\n                >\n                  <span class=\"md-hidden\">{{\n                    \"Clear\" | lowercase | translate\n                  }}</span>\n                  <span><i class=\"material-icons\">clear</i></span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grid-right-noGutter\" style=\"margin-top: 20px\">\n      <button class=\"btn color5 round\" (click)=\"exportAs('xlsx')\">\n        {{ \"Export\" | lowercase | translate }}\n      </button>\n      <!-- <div class=\"dropdown\">\n            <button class=\"dropbtn\">Export</button> -->\n      <!-- <div class=\"dropdown-content\">\n              <a (click)=\"exportAs('xlsx')\">xlsx</a>\n              <a (click)=\"exportAs('pdf', 'landscape')\">pdf</a> -->\n      <!-- <a (click)=\"exportAs('png')\">png</a>\n                      <a (click)=\"exportAs('txt')\">txt</a>\n                      <a (click)=\"exportAs('csv')\">csv</a>\n                      <a (click)=\"exportAs('xml')\">xml</a> -->\n      <!-- </div> -->\n      <!-- </div> -->\n    </div>\n\n    <div class=\"grid-center-noGutter\" style=\"margin-top: 20px\">\n      <ng-container>\n        <ng-container *ngTemplateOutlet=\"table\"></ng-container>\n      </ng-container>\n    </div>\n  </div>\n</div>\n\n<ng-template #table>\n  <div>\n    <data-table\n      id=\"my-table\"\n      title=\"List of Products\"\n      [items]=\"tableElements\"\n      [itemCount]=\"itemCount\"\n      [pageLimits]=\"limits\"\n      [limit]=\"limit\"\n      [pagination]=\"true\"\n      (reload)=\"reloadItems($event)\"\n      [noDataMessage]=\"'No data to show'\"\n    >\n      <data-table-column\n        [width]=\"50\"\n        [property]=\"'image'\"\n        [resizable]=\"true\"\n        [header]=\"arabic ? 'صورة' : 'Img'\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <img\n            [src]=\"\n              item.photos\n                ? item.photos[0]\n                : '../../../../../assets/placeholder.png'\n            \"\n            width=\"30px\"\n            height=\"30px\"\n            alt=\"\"\n          />\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'name'\"\n        [header]=\"arabic ? 'الاسم' : 'Name'\"\n        [sortable]=\"true\"\n      >\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'profit'\"\n        [header]=\"arabic ? 'الربح' : 'Profit'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{\n            item.profitPercentage && item.profitPercentage !== 0\n              ? item.profitPercentage + \"%\"\n              : item.profitValue && item.profitValue !== 0\n              ? item.profitValue + \" EGP\"\n              : 0\n          }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'discount'\"\n        [header]=\"arabic ? 'الخصم' : 'Discount'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{\n            item.discountPercentage && item.discountPercentage !== 0\n              ? item.discountPercentage + \"%\"\n              : item.discountValue && item.discountValue !== 0\n              ? item.discountValue + \" EGP\"\n              : 0\n          }}</span>\n        </ng-template>\n      </data-table-column>\n      <data-table-column [header]=\"arabic ? 'السعر' : 'Price'\">\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.properties[0]?.price }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'creator'\"\n        [header]=\"arabic ? 'بواسطة' : 'Creator'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.creator ? item.creator.name : \"-\" }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'store'\"\n        [sortable]=\"true\"\n        [header]=\"arabic ? 'المتجر' : 'Store'\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.store ? item.store.name : \"-\" }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <!-- [property]=\"'category.en'\" -->\n      <data-table-column\n        property=\"category.en\"\n        [header]=\"arabic ? 'القسم' : 'Category'\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.category.en }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'active'\"\n        [width]=\"68\"\n        [header]=\"arabic ? 'الحالة' : 'Status'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <div>\n            <ng-container *ngIf=\"item.sold\"\n              ><span class=\"badge blocked\">{{\n                \"sold\" | lowercase | translate\n              }}</span></ng-container\n            >\n            <ng-container *ngIf=\"item.active\"\n              ><span class=\"badge active\">{{\n                \"active\" | lowercase | translate\n              }}</span>\n            </ng-container>\n            <ng-container *ngIf=\"!item.active\"\n              ><span class=\"badge deleted\">{{\n                \"inactive\" | lowercase | translate\n              }}</span></ng-container\n            >\n          </div>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column [width]=\"180\" [header]=\"arabic ? '' : 'Actions'\">\n        <ng-template #dataTableCell let-item=\"item\" class=\"grid-center\">\n          <a\n            [routerLink]=\"['./edit/', item._id]\"\n            class=\"pencil\"\n            [tooltip]=\"'Edit'\"\n            placement=\"bottom\"\n            (click)=\"savePagination()\"\n          >\n            <i class=\"material-icons\">colorize</i>\n          </a>\n          <a\n            (click)=\"\n              item.store ? null : openModal(templateAddToStore, item._id);\n              getStoresList()\n            \"\n            [ngClass]=\"item.store ? '' : 'lock'\"\n            [tooltip]=\"item.store ? '' : 'add to store'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">{{ item.store ? \"\" : \"store\" }}</i>\n          </a>\n          <a\n            (click)=\"openModal(templateCopy, item._id)\"\n            [ngClass]=\"'lock'\"\n            [tooltip]=\"'Copy'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">content_copy</i>\n          </a>\n          <a\n            (click)=\"\n              item.active\n                ? openModal(templateDeactivate, item._id)\n                : openModal(templateActivate, item._id)\n            \"\n            [ngClass]=\"item.active ? 'trash' : 'lock'\"\n            [tooltip]=\"item.active ? 'deactivate' : 'Activate'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">{{\n              item.active ? \"block\" : \"check_circle_outline\"\n            }}</i>\n          </a>\n          <a\n            (click)=\"\n              item.sold\n                ? openModal(templateAvailable, item._id)\n                : openModal(templateSold, item._id)\n            \"\n            [ngClass]=\"item.sold ? 'lock' : 'trash'\"\n            [tooltip]=\"item.sold ? 'Available' : 'Sold'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">{{\n              item.sold ? \"done_outline\" : \"done_all\"\n            }}</i>\n          </a>\n\n          <a\n            (click)=\"\n              item.discount\n                ? openModal(templateDeleteDiscount, item._id)\n                : openModal(templateAddDiscount, item._id)\n            \"\n            [class]=\"item.discount ? 'trash' : 'lock'\"\n            [tooltip]=\"item.discount ? 'Delete discount' : 'Add discount'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">qr_code_2</i>\n          </a>\n\n          <a\n            (click)=\"openModal(templateDelete, item._id)\"\n            class=\"trash\"\n            tooltip=\"Delete\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">delete</i>\n          </a>\n        </ng-template>\n      </data-table-column>\n    </data-table>\n  </div>\n</ng-template>\n\n<ng-template #templateAddDiscount id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-user fa-lg mt-4\"></i> Do you want to add this product to a\n      store?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"col-24 grid-noGutter\">\n      <div class=\"col-24\">\n        <div class=\"col-24 grid\">\n          <app-input-radio\n            class=\"col-24\"\n            [label]=\"'Discount type'\"\n            [fieldId]=\"'discountType'\"\n            [items]=\"['percent', 'value']\"\n            [control]=\"discountForm.get('discountType')\"\n            [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n          ></app-input-radio>\n\n          <ng-container\n            *ngIf=\"discountForm.get('discountType').value === 'value'\"\n          >\n            <app-input-text\n              class=\"col-24\"\n              (change)=\"discountForm.get('discountPercentage').patchValue(0)\"\n              [label]=\"'Discount value'\"\n              [fieldId]=\"'discountValue'\"\n              type=\"number\"\n              [placeholder]=\"'Discount on this category'\"\n              [control]=\"discountForm.get('discountValue')\"\n              [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n            >\n            </app-input-text>\n          </ng-container>\n\n          <ng-container\n            *ngIf=\"discountForm.get('discountType').value === 'percent'\"\n          >\n            <app-input-text\n              class=\"col-24\"\n              (change)=\"discountForm.get('discountValue').patchValue(0)\"\n              [label]=\"'Discount percent'\"\n              [fieldId]=\"'discountPercentage'\"\n              type=\"number\"\n              [placeholder]=\"'Discount on this category'\"\n              [control]=\"discountForm.get('discountPercentage')\"\n              [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n            >\n            </app-input-text>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-24 grid-noGutter\">\n      <div class=\"col-24 grid-noGutter\">\n        <div class=\"col-11_sm-24 form-group grid-center-middle-noGutter\">\n          <div class=\"col_sm-24 grid_sm-noGutter field-label\">\n            <label for=\"period\">{{\n              \"forPeriod\" | lowercase | translate\n            }}</label>\n          </div>\n\n          <div class=\"col-11_sm-24 grid\">\n            <label class=\"toggleButton\" tooltip=\"for specific time\">\n              <input\n                type=\"checkbox\"\n                id=\"period\"\n                [(ngModel)]=\"forPeriod\"\n                (change)=\"changePeriod($event)\"\n              />\n              <div>\n                <svg viewBox=\"0 0 44 44\">\n                  <path\n                    d=\"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758\"\n                    transform=\"translate(-2.000000, -2.000000)\"\n                  ></path>\n                </svg>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n      <ng-container *ngIf=\"forPeriod\">\n        <div class=\"col-24 grid-middle-spaceBetween-noGutter\">\n          <label>{{ \"validTill\" | lowercase | translate }}: </label>\n          <div class=\"col-19_xlg-18_lg-17_md-24 grid-noGutter\">\n            <input\n              type=\"text\"\n              class=\"form-control col\"\n              bsDatepicker\n              autocomplete=\"off\"\n              placeholder=\"YYYY-MM-DD\"\n              [(bsValue)]=\"datePickerValue\"\n              [minDate]=\"minDate\"\n              [bsConfig]=\"{ isAnimated: true, adaptivePosition: true }\"\n            />\n            <input class=\"form-control col\" type=\"time\" [(ngModel)]=\"time\" />\n          </div>\n        </div>\n        <div style=\"height: 20px; width: 100%\"></div>\n      </ng-container>\n    </div>\n\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"addDiscount()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDeleteDiscount id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: red; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to Delete discount from\n      This product ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deleteDiscount()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateAddToStore id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-user fa-lg mt-4\"></i> Do you want to add this product to a\n      store?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"col-24 grid-noGutter\">\n      <app-select\n        class=\"col-24\"\n        [label]=\"'Store'\"\n        [fieldId]=\"'store'\"\n        [ItemsList]=\"selectStoresList\"\n        [placeholder]=\"'Choose store'\"\n        [fieldClass]=\"'col-18_md-24'\"\n        [required]=\"true\"\n        (itemselected)=\"selectStore($event)\"\n      >\n      </app-select>\n    </div>\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"addProductToStore()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateCopy id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to copy This Element ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"copyElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateActivate id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to activate This\n      Element ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"activateElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDeactivate id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to deactivate This\n      Element ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deactivateElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDelete id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: red; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to Delete This Element\n      ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deleteElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateAvailable id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: #0c425d; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-lock fa-lg mt-4\"></i> Do you want to change this element\n      status to be available?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"availableElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateSold id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: #0c425d; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-lock fa-lg mt-4\"></i> Do you want to change this element\n      status to be sold out?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"soldElement()\"\n      >\n        {{ \"Submit\" | lowercase | translate }}\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { DataTableModule } from 'angular7-data-table';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\nimport { ExportAsModule } from 'ngx-export-as';\n\nimport { ProductsRoutingModule } from './products-routing.module';\n\nimport { FormFieldsModule } from 'src/app/reusable-components/form-fields/form-fields.module';\n\nimport { ProductsComponent } from './products.component';\nimport { AddProductComponent } from './add-product/add-product.component';\nimport { EditProductComponent } from './edit-product/edit-product.component';\n\nimport { NgxSpinnerModule } from 'ngx-spinner';\n\nimport { SharedModule } from '../../shared/shared.module';\n\n@NgModule({\n  declarations: [ProductsComponent, AddProductComponent, EditProductComponent],\n  imports: [\n    CommonModule,\n    ProductsRoutingModule,\n    FormsModule,\n    FormFieldsModule,\n    DataTableModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    TooltipModule.forRoot(),\n    ModalModule.forRoot(),\n    NgxSpinnerModule,\n    ExportAsModule,\n    SharedModule,\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class ProductsModule {}\n"],"sourceRoot":"webpack:///"}