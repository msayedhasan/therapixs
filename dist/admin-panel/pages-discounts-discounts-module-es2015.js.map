{"version":3,"sources":["./src/app/pages/discounts/add-discount/add-discount.component.ts","./src/app/pages/discounts/add-discount/add-discount.component.html","./src/app/pages/discounts/discounts-routing.module.ts","./src/app/pages/discounts/discounts.component.ts","./src/app/pages/discounts/discounts.component.html","./src/app/pages/discounts/discounts.module.ts","./src/app/pages/discounts/discounts.service.ts"],"names":[],"mappings":"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","file":"pages-discounts-discounts-module-es2015.js","sourcesContent":["import { Component, AfterViewInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Router } from '@angular/router';\n\n// import { BsDatepickerConfig, BsLocaleService } from 'ngx-bootstrap/datepicker';\n// import { itLocale } from 'ngx-bootstrap/locale';\n\nimport { DiscountsService } from '../discounts.service';\nimport { ProductsService } from '../../products//products.service';\nimport { CategoriesService } from '../../categories/categories.service';\nimport { StoresService } from '../../stores/stores.service';\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\n@Component({\n  selector: 'app-add-discount',\n  templateUrl: './add-discount.component.html',\n  styleUrls: ['./add-discount.component.scss'],\n})\nexport class AddDiscountComponent implements AfterViewInit {\n  constructor(\n    private fb: FormBuilder,\n    private discountsService: DiscountsService,\n    private categoriesService: CategoriesService,\n    private productsService: ProductsService,\n    private storesService: StoresService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private router: Router // private localeService: BsLocaleService\n  ) {\n    this.setNow();\n  }\n\n  form = this.fb.group({\n    discountType: [''],\n    discountValue: [0],\n    discountPercentage: [0],\n    validTill: [],\n  });\n\n  ngAfterViewInit(): void {\n    this.getProductsList();\n    this.getbaseCategoriesList();\n    this.getStoresList();\n  }\n\n  discountOnList: InputSelectItem[] = [\n    // { _id: '1', nameEn: 'Product', nameAr: '' },\n    { _id: '2', nameEn: 'Category', nameAr: '' },\n    { _id: '3', nameEn: 'Store', nameAr: '' },\n  ];\n\n  discountOn;\n  products = [];\n  categories = [];\n  stores = [];\n  selectDiscountOn(event) {\n    if (event) {\n      console.log(event);\n      this.discountOn = event.nameEn;\n      if (this.discountOn === 'Product') {\n        this.selectedStoreId = undefined;\n      } else if (this.discountOn === 'Category') {\n        this.selectedProductId = undefined;\n      } else if (this.discountOn === 'Store') {\n        this.selectedProductId = undefined;\n      }\n    }\n  }\n  ///////////////////////////////\n  // Product ///////////////////\n  selectProductsList: InputSelectItem[];\n  selectedProductId: String;\n  getProductsList() {\n    console.log('getting products');\n\n    this.spinner.show();\n\n    this.productsService.getAll();\n\n    this.productsService.products.subscribe(async (data) => {\n      if (data) {\n        this.selectProductsList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']}`,\n            nameAr: '',\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectProduct(event) {\n    if (event) {\n      console.log(event);\n      this.selectedProductId = event._id;\n    }\n  }\n  // End Product\n  //////////////////////////////////\n\n  ///////////////////////////////\n  // Store ///////////////////\n  selectStoresList: InputSelectItem[];\n  selectedStoreId: String;\n  getStoresList() {\n    console.log('getting stores');\n\n    this.spinner.show();\n\n    this.storesService.getAll();\n\n    this.storesService.stores.subscribe(async (data) => {\n      if (data) {\n        this.selectStoresList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']}`,\n            nameAr: '',\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectStore(event) {\n    if (event) {\n      console.log(event);\n      this.selectedStoreId = event._id;\n    }\n  }\n  // End Product\n  //////////////////////////////////\n\n  ///////////////////////////////\n  // Category ///////////////////\n  // Start select dropdown\n  selectBaseCategoriesList: InputSelectItem[];\n  subCategories = [];\n  selectedCategory = {};\n  getbaseCategoriesList() {\n    console.log('getting categories');\n\n    this.spinner.show();\n\n    this.categoriesService.getBaseCategories();\n\n    this.categoriesService.baseCategories.subscribe((data) => {\n      if (data) {\n        this.selectBaseCategoriesList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']['en']}`,\n            nameAr: `${x['name']['ar']}`,\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectBaseCategory(event) {\n    this.spinner.show();\n\n    if (event) {\n      this.selectedCategory = {};\n      this.selectedCategory[0] = event;\n\n      this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          this.subCategories = [];\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[0] = res['data'].categories.map((x) => {\n                return {\n                  _id: x['_id'],\n                  nameEn: `${x['name']['en']}`,\n                  nameAr: `${x['name']['ar']}`,\n                };\n              });\n            }\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    }\n\n    this.spinner.hide();\n  }\n  // End select dropdown\n\n  selectSubCategory(fieldIndex, event) {\n    this.spinner.show();\n\n    // delete all next selected categories to index\n    for (const key in this.selectedCategory) {\n      if (key > fieldIndex + 1) {\n        delete this.selectedCategory[key];\n      }\n    }\n\n    // delete all next subcategories\n    this.subCategories.splice(fieldIndex + 1);\n\n    if (event) {\n      // selected category of index = event\n      this.selectedCategory[fieldIndex + 1] = event;\n\n      this.categoriesService.getOne(event._id).subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          if (res['data'].categories) {\n            if (res['data'].categories.length > 0) {\n              this.subCategories[fieldIndex + 1] = res['data'].categories.map(\n                (x) => {\n                  return {\n                    _id: x['_id'],\n                    nameEn: `${x['name']['en']}`,\n                    nameAr: `${x['name']['ar']}`,\n                  };\n                }\n              );\n            }\n          }\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n    } else {\n      // selected category of index = event\n      delete this.selectedCategory[fieldIndex + 1];\n    }\n\n    this.spinner.hide();\n  }\n  // End Category\n  //////////////////////////////////\n\n  addStoreDiscount() {\n    if (!this.selectedStoreId || this.selectedStoreId === '') {\n      return this.toastr.error('Select Store', 'Error');\n    }\n    this.spinner.show();\n\n    this.storesService\n      .addDiscount(this.form.value, this.selectedStoreId)\n      .subscribe(\n        (res) => {\n          this.toastr.info(res['message'], 'Info');\n          this.router.navigate(['/discounts']);\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n\n    this.spinner.hide();\n  }\n\n  addCategoryDiscount() {\n    this.spinner.show();\n\n    let selectedCategoryId;\n\n    if (Object.keys(this.selectedCategory).length !== 0) {\n      var count = 0;\n      for (var prop in this.selectedCategory) {\n        if (this.selectedCategory.hasOwnProperty(prop)) ++count;\n      }\n      if (this.selectedCategory[count - 1]) {\n        selectedCategoryId = this.selectedCategory[count - 1]._id;\n      }\n    } else {\n      return this.toastr.error('Select Category', 'Error');\n    }\n\n    let newForm = { ...this.form.value, storeId: this.selectedStoreId };\n    this.categoriesService.addDiscount(newForm, selectedCategoryId).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.router.navigate(['/discounts']);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  minDate = new Date();\n  datePickerValue: Date = new Date();\n  time: string;\n  forPeriod = false;\n  setNow() {\n    let now = new Date();\n    let hours = ('0' + now.getHours()).slice(-2);\n    let minutes = ('0' + now.getMinutes()).slice(-2);\n    let str = hours + ':' + minutes;\n    this.time = str;\n  }\n  changePeriod(event) {\n    if (!event.target.checked) {\n      this.form.get('validTill').patchValue(undefined);\n    }\n  }\n\n  onSubmit() {\n    if (this.forPeriod) {\n      var validTill = new Date(\n        this.datePickerValue.getFullYear(),\n        this.datePickerValue.getMonth(),\n        this.datePickerValue.getDate(),\n        parseInt(this.time.split(':')[0]),\n        parseInt(this.time.split(':')[1]),\n        0\n      );\n\n      this.form.get('validTill').patchValue(validTill);\n    }\n\n    if (this.discountOn === 'Store') {\n      this.addStoreDiscount();\n    } else if (this.discountOn === 'Category') {\n      this.addCategoryDiscount();\n    }\n    //  else if (this.discountOn === 'Product') {\n    // }\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23 grid-center-noGutter content\">\n    <div class=\"title col-24 grid-center\">\n      {{ \"Add\" | lowercase | translate }}\n      {{ \"discount\" | lowercase | translate }}\n    </div>\n    <div class=\"form col-23\">\n      <div class=\"grid-middle-noGutter\">\n        <div class=\"col-24 grid-noGutter\">\n          <app-select\n            class=\"col-11_sm-24\"\n            [label]=\"'Discount on'\"\n            [labelAr]=\"'خصم علي'\"\n            [fieldId]=\"'discountOn'\"\n            [ItemsList]=\"discountOnList\"\n            [placeholder]=\"'Select'\"\n            [placeholderAr]=\"'اختر'\"\n            [fieldClass]=\"'col-18_md-24'\"\n            [required]=\"true\"\n            (itemselected)=\"selectDiscountOn($event)\"\n          >\n          </app-select>\n        </div>\n\n        <ng-container\n          *ngIf=\"discountOn === 'Store' || discountOn === 'Category'\"\n        >\n          <div class=\"col-24 grid-noGutter\">\n            <app-select\n              class=\"col-11_sm-24\"\n              [label]=\"'Stores'\"\n              [labelAr]=\"'المتجر'\"\n              [fieldId]=\"'stores'\"\n              [ItemsList]=\"selectStoresList\"\n              [placeholder]=\"'Choose store'\"\n              [placeholderAr]=\"'اختر متجر'\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectStore($event)\"\n            >\n            </app-select>\n          </div>\n        </ng-container>\n\n        <ng-container *ngIf=\"discountOn === 'Product'\">\n          <div class=\"col-24 grid-noGutter\">\n            <app-select\n              class=\"col-11_sm-24\"\n              [label]=\"'Products'\"\n              [fieldId]=\"'products'\"\n              [ItemsList]=\"selectProductsList\"\n              [placeholder]=\"'Choose product'\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectProduct($event)\"\n            >\n            </app-select>\n          </div>\n        </ng-container>\n\n        <ng-container *ngIf=\"discountOn === 'Category'\">\n          <div class=\"col-24 grid-noGutter\">\n            <app-select\n              class=\"col-11_sm-24\"\n              [label]=\"'Category'\"\n              [labelAr]=\"'الصنف'\"\n              [fieldId]=\"'parentCategory'\"\n              [ItemsList]=\"selectBaseCategoriesList\"\n              [placeholder]=\"'Choose parent category'\"\n              [placeholderAr]=\"'اختر صنف'\"\n              [fieldClass]=\"'col-18_md-24'\"\n              [required]=\"true\"\n              (itemselected)=\"selectBaseCategory($event)\"\n            >\n            </app-select>\n          </div>\n          <ng-container *ngFor=\"let category of subCategories; index as i\">\n            <div class=\"col-24 grid-noGutter\">\n              <app-select\n                class=\"col-11_sm-24\"\n                [label]=\"'sub category'\"\n                [labelAr]=\"'الصنف الفرعي'\"\n                [fieldId]=\"'subCategory' + (i + 1).toString()\"\n                [ItemsList]=\"subCategories[i]\"\n                [placeholder]=\"'Choose sub-category'\"\n                [placeholderAr]=\"'اختر صنف فرعي'\"\n                [fieldClass]=\"'col-18_md-24'\"\n                [required]=\"true\"\n                (itemselected)=\"selectSubCategory(i, $event)\"\n              >\n              </app-select>\n            </div>\n          </ng-container>\n        </ng-container>\n\n        <div class=\"col-24 grid-noGutter\">\n          <div class=\"col-11_sm-24\">\n            <div class=\"col-24 grid\">\n              <app-input-radio\n                class=\"col-24\"\n                [label]=\"'Discount type'\"\n                [labelAr]=\"'نوع الخصم'\"\n                [fieldId]=\"'discountType'\"\n                [items]=\"['percent', 'value']\"\n                [control]=\"form.get('discountType')\"\n                [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n              ></app-input-radio>\n\n              <ng-container *ngIf=\"form.get('discountType').value === 'value'\">\n                <app-input-text\n                  class=\"col-24\"\n                  (change)=\"form.get('discountPercentage').patchValue(0)\"\n                  [label]=\"'Discount value'\"\n                  [labelAr]=\"'خصم قيمة'\"\n                  [fieldId]=\"'discountValue'\"\n                  type=\"number\"\n                  [placeholder]=\"'Discount on this category'\"\n                  [control]=\"form.get('discountValue')\"\n                  [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n                >\n                </app-input-text>\n              </ng-container>\n\n              <ng-container\n                *ngIf=\"form.get('discountType').value === 'percent'\"\n              >\n                <app-input-text\n                  class=\"col-24\"\n                  (change)=\"form.get('discountValue').patchValue(0)\"\n                  [label]=\"'Discount percent'\"\n                  [labelAr]=\"'خصم نسبة'\"\n                  [fieldId]=\"'discountPercentage'\"\n                  type=\"number\"\n                  [placeholder]=\"'Discount on this category'\"\n                  [control]=\"form.get('discountPercentage')\"\n                  [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n                >\n                </app-input-text>\n              </ng-container>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-24 grid-noGutter\">\n          <div class=\"col-24 grid-noGutter\">\n            <div class=\"col-11_sm-24 form-group grid-center-middle-noGutter\">\n              <div class=\"col_sm-24 grid_sm-noGutter field-label\">\n                <label for=\"period\"> {{ \"forPeriod\" | lowercase | translate }}</label>\n              </div>\n\n              <div class=\"col-11_sm-24 grid\">\n                <label class=\"toggleButton\" tooltip=\"for specific time\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"period\"\n                    [(ngModel)]=\"forPeriod\"\n                    (change)=\"changePeriod($event)\"\n                  />\n                  <div>\n                    <svg viewBox=\"0 0 44 44\">\n                      <path\n                        d=\"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758\"\n                        transform=\"translate(-2.000000, -2.000000)\"\n                      ></path>\n                    </svg>\n                  </div>\n                </label>\n              </div>\n            </div>\n          </div>\n          <ng-container *ngIf=\"forPeriod\">\n            <div class=\"col-11_24 grid-middle-spaceBetween-noGutter\">\n              <label>Valid till: </label>\n              <div class=\"col-19_xlg-18_lg-17_md-24 grid-noGutter\">\n                <input\n                  type=\"text\"\n                  class=\"form-control col\"\n                  bsDatepicker\n                  autocomplete=\"off\"\n                  placeholder=\"YYYY-MM-DD\"\n                  [(bsValue)]=\"datePickerValue\"\n                  [minDate]=\"minDate\"\n                  [bsConfig]=\"{ isAnimated: true, adaptivePosition: true }\"\n                />\n                <input\n                  class=\"form-control col\"\n                  type=\"time\"\n                  [(ngModel)]=\"time\"\n                />\n              </div>\n            </div>\n          </ng-container>\n        </div>\n\n        <div class=\"col-24 grid-noGutter\">\n          <div class=\"col-11_24\"></div>\n        </div>\n      </div>\n      <div class=\"grid-right\">\n        <button\n          type=\"submit\"\n          (click)=\"onSubmit()\"\n          class=\"btn col-3_sm-5_xs-6 color1 round\"\n          [disabled]=\"!form.valid\"\n        >\n          {{ \"Submit\" | lowercase | translate }}\n        </button>\n        <button\n          type=\"button\"\n          [routerLink]=\"['/discounts']\"\n          class=\"btn col-3_sm-5_xs-6 color2 round\"\n        >\n          {{ \"Cancel\" | lowercase | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DiscountsComponent } from './discounts.component';\nimport { AddDiscountComponent } from './add-discount/add-discount.component';\n\nconst routes: Routes = [\n  { path: '', component: DiscountsComponent },\n  { path: 'add', component: AddDiscountComponent },\n];\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DiscountsRoutingModule {}\n","import { Component, OnInit, TemplateRef, OnDestroy } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { DataTableResource } from 'angular7-data-table';\n\nimport { LanguageService } from '../../services/language.service';\nimport { Subscription } from 'rxjs';\n\nimport { DiscountsService } from './discounts.service';\nimport { ProductsService } from '../products//products.service';\nimport { CategoriesService } from '../categories/categories.service';\nimport { StoresService } from '../stores/stores.service';\n\nimport {\n  ExportAsService,\n  ExportAsConfig,\n  SupportedExtensions,\n} from 'ngx-export-as';\n\n@Component({\n  selector: 'app-discounts',\n  templateUrl: './discounts.component.html',\n  styleUrls: ['./discounts.component.scss'],\n})\nexport class DiscountsComponent implements OnInit, OnDestroy {\n  itemResource;\n  items = [];\n  itemCount = 0;\n  limit = 20;\n  limits = [20, 25, 50];\n  offset = 1;\n  tableElements = [];\n\n  modalRef: any;\n\n  private langSub: Subscription;\n  currentLang;\n  arabic: boolean;\n\n  constructor(\n    private fb: FormBuilder,\n    private discountService: DiscountsService,\n    private categoriesService: CategoriesService,\n    private productsService: ProductsService,\n    private storesService: StoresService,\n    private languageService: LanguageService,\n    private modalService: BsModalService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private exportAsService: ExportAsService,\n    route: ActivatedRoute\n  ) {\n    route.params.subscribe((val) => {\n      this.getData();\n    });\n\n    this.langSub = this.languageService.currentLanguage.subscribe((lang) => {\n      this.currentLang = lang;\n      if (this.currentLang && this.currentLang === 'ar') {\n        this.arabic = true;\n      } else {\n        this.arabic = false;\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.langSub.unsubscribe();\n  }\n\n  getData() {\n    this.discountService.getAll();\n\n    this.spinner.show();\n\n    this.discountService.discounts.subscribe(async (data) => {\n      if (data) {\n        this.items = data;\n\n        this.itemResource = new DataTableResource(data);\n        this.itemCount = await this.itemResource.count();\n        this.reloadItems({\n          offset: 0,\n          limit: this.limit,\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  ngOnInit(): void {\n    // this.discountService.getAll();\n    // this.spinner.show();\n    // this.discountService.discounts.subscribe(async (data) => {\n    //   if (data) {\n    //     this.items = data;\n    //     if ( data.length < this.limits[0] - 1) {\n    //       this.limit = data.length + 1;\n    //       this.limits[0] = data.length + 1;\n    //     }\n    //     this.itemResource = new DataTableResource(data);\n    //     this.itemCount = await this.itemResource.count();\n    //     this.reloadItems({\n    //       offset: 0,\n    //       limit: this.limit,\n    //     });\n    //   }\n    // });\n    // this.spinner.hide();\n  }\n\n  async reloadItems(event) {\n    if (this.itemResource) {\n      this.tableElements = await this.itemResource.query(event);\n    }\n  }\n\n  itemId;\n  openModal(template: TemplateRef<any>, id) {\n    this.itemId = id;\n    this.modalRef = this.modalService.show(template);\n  }\n\n  image;\n  advertise = this.fb.group({\n    image: [],\n  });\n  addAdvertise() {\n    const formData = new FormData();\n\n    formData.append('image', this.advertise.value['image']);\n\n    this.spinner.show();\n\n    this.discountService.addAdvertise(this.itemId, formData).subscribe(\n      (res) => {\n        console.log(res);\n        this.image = null;\n        this.advertise.reset();\n        this.toastr.info(res['message'], 'Info');\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n    this.modalRef.hide();\n\n    this.spinner.hide();\n  }\n\n  deleteElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.discountService.deleteOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.discountService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  exportAsConfig: ExportAsConfig = {\n    type: 'pdf',\n    elementIdOrContent: 'my-table',\n    options: {\n      jsPDF: {\n        orientation: 'landscape',\n      },\n    },\n  };\n  exportAs(type: SupportedExtensions, opt?: string) {\n    this.exportAsConfig.type = type;\n    if (opt) {\n      this.exportAsConfig.options.jsPDF.orientation = opt;\n    }\n    this.exportAsService\n      .save(this.exportAsConfig, 'Discounts')\n      .subscribe(() => {\n        // save started\n      });\n    this.exportAsService.get(this.exportAsConfig).subscribe((content) => {\n      console.log(content);\n    });\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23\" style=\"margin-top: 20px\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <span>{{ \"Discounts\" | lowercase | translate }} </span>\n      </div>\n      <div class=\"card-body grid-center-noGutter\">\n        <div class=\"col-24 grid-spaceBetween-noGutter\">\n          <div class=\"card xs-hidden\">\n            <div class=\"card-body\">\n              <span\n                style=\"\n                  display: inline-block;\n                  background-color: #4899c2;\n                  padding: 15px;\n                  color: white;\n                \"\n              >\n                <i class=\"material-icons\">home</i>\n              </span>\n              <div style=\"display: inline-block; margin: 0 10px\">\n                <div style=\"color: #20a8d8; font-size: 18px; font-weight: 600\">\n                  {{ items.length }}\n                </div>\n                <div style=\"color: #73818f; font-size: 80%; font-weight: 700\">\n                  {{ \"Discounts\" | lowercase | translate }}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-top xs-24 grid-noGutter\" style=\"margin-top: 15px\">\n            <div class=\"grid-column-noGutter\">\n              <div class=\"grid-right col-3_xlg-4_lg-6_sm-10\">\n                <a [routerLink]=\"['./add']\" class=\"btn color1 round addbtn\">\n                  {{ \"Add\" | lowercase | translate }}\n                  {{ \"discount\" | lowercase | translate }}</a\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grid-right-noGutter\" style=\"margin-top: 20px\">\n      <button class=\"btn color5 round\" (click)=\"exportAs('xlsx')\">\n        {{ \"Export\" | lowercase | translate }}\n      </button>\n      <!-- <div class=\"dropdown\">\n        <button class=\"dropbtn\">Export</button> -->\n      <!-- <div class=\"dropdown-content\">\n          <a (click)=\"exportAs('xlsx')\">xlsx</a>\n          <a (click)=\"exportAs('pdf', 'landscape')\">pdf</a> -->\n      <!-- <a (click)=\"exportAs('png')\">png</a>\n                  <a (click)=\"exportAs('txt')\">txt</a>\n                  <a (click)=\"exportAs('csv')\">csv</a>\n                  <a (click)=\"exportAs('xml')\">xml</a> -->\n      <!-- </div> -->\n      <!-- </div> -->\n    </div>\n\n    <div class=\"grid-center-noGutter\" style=\"margin-top: 20px\">\n      <ng-container>\n        <ng-container *ngTemplateOutlet=\"table\"></ng-container>\n      </ng-container>\n    </div>\n  </div>\n</div>\n\n<ng-template #table>\n  <div>\n    <data-table\n      id=\"my-table\"\n      title=\"List of Discounts\"\n      [items]=\"tableElements\"\n      [itemCount]=\"itemCount\"\n      [pageLimits]=\"limits\"\n      [limit]=\"limit\"\n      [pagination]=\"true\"\n      (reload)=\"reloadItems($event)\"\n    >\n      <data-table-column\n        [property]=\"'discountOn'\"\n        [header]=\"arabic ? 'علي' : 'On'\"\n      >\n      </data-table-column>\n\n      <data-table-column [header]=\"arabic ? 'الاسم' : 'Name'\">\n        <ng-template #dataTableCell let-item=\"item\">{{\n          item.store\n            ? item.store.name\n            : item.category\n            ? item.store\n              ? item.store.name + \"->\" + item.category.name.en\n              : item.category.name.en\n            : item.product\n            ? item.product.name\n            : item.bike\n            ? item.bike.name\n            : \"-\"\n        }}</ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'discountType'\"\n        [header]=\"arabic ? 'النوع' : 'Type'\"\n      >\n      </data-table-column>\n\n      <data-table-column [header]=\"arabic ? 'القيمة' : 'Value'\">\n        <ng-template #dataTableCell let-item=\"item\">{{\n          item.discountValue !== 0\n            ? item.discountValue + \"EGP\"\n            : item.discountPercentage\n            ? item.discountPercentage + \"%\"\n            : \"0\"\n        }}</ng-template>\n      </data-table-column>\n\n      <data-table-column [width]=\"80\" [header]=\"arabic ? '' : 'Actions'\">\n        <ng-template #dataTableCell let-item=\"item\" class=\"grid-center\">\n          <a\n            (click)=\"openModal(templateAdvertise, item._id)\"\n            class=\"lock\"\n            tooltip=\"Advertise\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">blur_circular</i>\n          </a>\n          <a\n            (click)=\"openModal(templateDelete, item._id)\"\n            class=\"trash\"\n            tooltip=\"Delete\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">delete</i>\n          </a>\n        </ng-template>\n      </data-table-column>\n    </data-table>\n  </div>\n</ng-template>\n\n<ng-template #templateAdvertise id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      Do you want to add advertise to This discount ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"form-group grid-center-middle-noGutter col-24\">\n      <div class=\"col-24 grid-center\">\n        <app-upload-photo\n          [fieldId]=\"'image'\"\n          [image]=\"image\"\n          [control]=\"advertise.get('image')\"\n        >\n        </app-upload-photo>\n      </div>\n    </div>\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"addAdvertise()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDelete id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: red; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to Delete This Element\n      ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deleteElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { DataTableModule } from 'angular7-data-table';\nimport { ExportAsModule } from 'ngx-export-as';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\n\nimport { DiscountsRoutingModule } from './discounts-routing.module';\n\nimport { FormFieldsModule } from 'src/app/reusable-components/form-fields/form-fields.module';\n\nimport { DiscountsComponent } from './discounts.component';\nimport { AddDiscountComponent } from './add-discount/add-discount.component';\n\nimport { SharedModule } from '../../shared/shared.module';\n\n@NgModule({\n  declarations: [DiscountsComponent, AddDiscountComponent],\n  imports: [\n    CommonModule,\n    DiscountsRoutingModule,\n    FormsModule,\n    FormFieldsModule,\n    DataTableModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    TooltipModule.forRoot(),\n    ModalModule.forRoot(),\n    ExportAsModule,\n    SharedModule,\n  ],\n})\nexport class DiscountsModule {}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { baseUrl } from '../../config/variables';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DiscountsService {\n  constructor(private http: HttpClient) {}\n\n  discounts = new BehaviorSubject(null);\n\n  getAll() {\n    return this.http.get(baseUrl + '/discount').subscribe(\n      (res) => {\n        if (res['data']) {\n          this.discounts.next(res['data']);\n        }\n      },\n      (error) => {\n        console.log(error);\n        // this.error.next(error.error.message);\n      }\n    );\n  }\n\n  deleteOne(itemId) {\n    return this.http.delete(baseUrl + `/discount/${itemId}`);\n  }\n\n  addAdvertise(itemId, form) {\n    return this.http.post(baseUrl + `/discount/advertise/${itemId}`, form);\n  }\n}\n"],"sourceRoot":"webpack:///"}