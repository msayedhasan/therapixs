{"version":3,"sources":["webpack:///src/app/pages/stores/add-store/add-store.component.ts","webpack:///src/app/pages/stores/add-store/add-store.component.html","webpack:///src/app/pages/stores/edit-store/edit-store.component.ts","webpack:///src/app/pages/stores/edit-store/edit-store.component.html","webpack:///src/app/pages/stores/stores-routing.module.ts","webpack:///src/app/pages/stores/stores.component.html","webpack:///src/app/pages/stores/stores.component.ts","webpack:///src/app/pages/stores/stores.module.ts"],"names":["AddStoreComponent","fb","storesService","placesService","toastr","spinner","router","form","group","image","name","required","address","detailedAddress","getPlacesList","show","getAll","places","subscribe","data","selectPlacesList","map","x","_id","nameEn","nameAr","hide","event","selectedPlaceId","get","patchValue","console","log","value","formValue","formData","FormData","key","File","append","JSON","stringify","addOne","res","reset","info","navigate","error","message","selectPlace","onSubmit","selector","templateUrl","styleUrls","EditStoreComponent","route","storeId","snapshot","paramMap","getOne","id","initialSelectedPlace","updateOne","routes","path","component","StoresRoutingModule","forChild","imports","exports","discountForm","modalRef","StoresComponent","modalService","languageService","exportAsService","items","itemCount","limit","limits","offset","tableElements","discountType","discountValue","discountPercentage","validTill","minDate","Date","datePickerValue","forPeriod","exportAsConfig","type","elementIdOrContent","options","jsPDF","orientation","setNow","langSub","currentLanguage","lang","currentLang","arabic","unsubscribe","stores","itemResource","count","reloadItems","query","FilterRecord","filter","item","toLowerCase","includes","template","itemId","deleteOne","now","hours","getHours","slice","minutes","getMinutes","str","time","target","checked","undefined","getFullYear","getMonth","getDate","parseInt","split","addDiscount","deleteDiscount","lockOne","unlockOne","collect","activateOne","deactivateOne","opt","save","content","FilterRecords","exportAs","StoresModule","forRoot","declarations"],"mappings":"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","file":"pages-stores-stores-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { StoresService } from '../stores.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Router } from '@angular/router';\n\nimport { PlacesService } from '../../places/places.service';\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\n@Component({\n  selector: 'app-add-store',\n  templateUrl: './add-store.component.html',\n  styleUrls: ['./add-store.component.scss'],\n})\nexport class AddStoreComponent implements OnInit {\n  image;\n  constructor(\n    private fb: FormBuilder,\n    private storesService: StoresService,\n    private placesService: PlacesService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private router: Router\n  ) {}\n\n  form = this.fb.group({\n    image: [],\n    name: ['', Validators.required],\n    address: ['', Validators.required],\n    detailedAddress: ['', Validators.required],\n  });\n\n  ngOnInit(): void {\n    this.getPlacesList();\n  }\n\n  // Start select dropdown\n  selectPlacesList: InputSelectItem[];\n  selectedPlaceId: string;\n  getPlacesList() {\n    this.spinner.show();\n\n    this.placesService.getAll();\n\n    this.placesService.places.subscribe((data) => {\n      if (data) {\n        this.selectPlacesList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']}`,\n            nameAr: ``,\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectPlace(event) {\n    if (event) {\n      this.selectedPlaceId = event._id;\n      this.form.get('address').patchValue(event._id)\n    }\n    console.log(this.form.value);\n  }\n  // End select dropdown\n\n  onSubmit(formValue) {\n    this.spinner.show();\n    const formData = new FormData();\n\n    for (const key in formValue) {\n      if (formValue[key] instanceof File) {\n        formData.append(key, formValue[key]);\n      } else {\n        // contains object\n        formData.append(key, JSON.stringify(formValue[key]));\n      }\n    }\n\n    this.storesService.addOne(formData).subscribe(\n      (res) => {\n        this.image = null;\n        this.form.reset();\n        this.toastr.info(res['message'], 'Info');\n        this.router.navigate(['/stores']);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n    this.spinner.hide();\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23 grid-center-noGutter content\">\n    <div class=\"title col-24 grid-center\">\n      {{ \"add\" | lowercase | translate }} {{ \"Store\" | lowercase | translate }}\n    </div>\n    <div class=\"form col-23\">\n      <div class=\"grid-middle-spaceBetween-noGutter\">\n        <div class=\"form-group grid-center-middle-noGutter col-24\">\n          <div class=\"col-24 grid-center\">\n            <app-upload-photo\n              [fieldId]=\"'image'\"\n              [image]=\"image\"\n              [control]=\"form.get('image')\"\n            >\n            </app-upload-photo>\n          </div>\n        </div>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Name'\"\n          [labelAr]=\"'الاسم'\"\n          [fieldId]=\"'name'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Store Name'\"\n          [placeholderAr]=\"'اسم المتجر'\"\n          [tooltipMsg]=\"'Store name'\"\n          [control]=\"form.get('name')\"\n          [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n        >\n        </app-input-text>\n\n        <app-select\n          class=\"col-11_sm-24 grid-noGutter\"\n          [label]=\"'Address'\"\n          [labelAr]=\"'العنوان'\"\n          [fieldId]=\"'address'\"\n          [ItemsList]=\"selectPlacesList\"\n          [placeholder]=\"'Choose place'\"\n          [placeholderAr]=\"'اختر العنوان'\"\n          [fieldClass]=\"'col-18_md-24'\"\n          [required]=\"true\"\n          (itemselected)=\"selectPlace($event)\"\n        >\n        </app-select>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Address'\"\n          [labelAr]=\"'العنوان تفصيلي'\"\n          [fieldId]=\"'detailedAddress'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Store detailed address'\"\n          [placeholderAr]=\"' اختر العنوان تفصيلي'\"\n          [tooltipMsg]=\"'Address in detail'\"\n          [control]=\"form.get('detailedAddress')\"\n          [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n        >\n        </app-input-text>\n      </div>\n      <div class=\"grid-right\">\n        <button\n          type=\"submit\"\n          (click)=\"onSubmit(form.value)\"\n          class=\"btn col-3_sm-5_xs-6 color1 round\"\n          [disabled]=\"!form.valid\"\n        >\n          {{ \"Submit\" | lowercase | translate }}\n        </button>\n        <button\n          type=\"button\"\n          [routerLink]=\"['/stores']\"\n          class=\"btn col-3_sm-5_xs-6 color2 round\"\n        >\n          {{ \"Cancel\" | lowercase | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { StoresService } from '../stores.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { PlacesService } from '../../places/places.service';\nimport { InputSelectItem } from 'src/app/models/InputSelectItem';\n\n@Component({\n  selector: 'app-edit-store',\n  templateUrl: './edit-store.component.html',\n  styleUrls: ['./edit-store.component.scss'],\n})\nexport class EditStoreComponent implements OnInit, AfterViewInit {\n  image;\n  storeId;\n  constructor(\n    private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private storesService: StoresService,\n    private placesService: PlacesService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private router: Router\n  ) {}\n\n  form = this.fb.group({\n    image: [],\n    name: ['', Validators.required],\n    address: ['', Validators.required],\n    detailedAddress: ['', Validators.required],\n  });\n\n  ngOnInit(): void {\n    this.getPlacesList();\n    this.storeId = this.route.snapshot.paramMap.get('id');\n  }\n  ngAfterViewInit() {\n    this.getOne(this.storeId);\n  }\n\n  // Start select dropdown\n  selectPlacesList: InputSelectItem[];\n  selectedPlaceId: string;\n  initialSelectedPlace: InputSelectItem;\n\n  getPlacesList() {\n    this.spinner.show();\n\n    this.placesService.getAll();\n\n    this.placesService.places.subscribe((data) => {\n      if (data) {\n        this.selectPlacesList = data.map((x) => {\n          return {\n            _id: x['_id'],\n            nameEn: `${x['name']}`,\n            nameAr: ``,\n          };\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n  selectPlace(event) {\n    if (event) {\n      this.selectedPlaceId = event._id;\n      this.form.get('address').patchValue(event._id);\n    }\n    console.log(this.form.value);\n  }\n  // End select dropdown\n\n  getOne(id) {\n    this.spinner.show();\n\n    this.storesService.getOne(id).subscribe(\n      (res) => {\n        this.toastr.info(res['message'], 'Info');\n        this.image = res['data']['image'];\n\n        this.form.patchValue(res['data']);\n\n        this.form.get('image').patchValue(res['data']['image']);\n        this.form.get('name').patchValue(res['data']['name']);\n        if (res['data']['address']) {\n          this.initialSelectedPlace = {\n            _id: res['data']['address']['_id'],\n            nameEn: res['data']['address']['name'],\n            nameAr: '',\n          };\n          this.form.get('address').patchValue(this.initialSelectedPlace._id);\n\n          console.log(this.form.get('address'));\n        }\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  onSubmit(formValue) {\n    this.spinner.show();\n\n    const formData = new FormData();\n\n    for (const key in formValue) {\n      if (formValue[key] instanceof File) {\n        formData.append(key, formValue[key]);\n      } else {\n        // contains object\n        formData.append(key, JSON.stringify(formValue[key]));\n      }\n    }\n\n    this.storesService.updateOne(formData, this.storeId).subscribe(\n      (res) => {\n        console.log(res);\n        this.image = null;\n        this.form.reset();\n        this.toastr.info(res['message'], 'Info');\n        this.router.navigate(['/stores']);\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23 grid-center-noGutter content\">\n    <div class=\"title col-24 grid-center\">Edit Store</div>\n    <div class=\"form col-23\">\n      <div class=\"grid-middle-spaceBetween-noGutter\">\n        <div class=\"form-group grid-center-middle-noGutter col-24\">\n          <div class=\"col-24 grid-center\">\n            <app-upload-photo\n              [fieldId]=\"'image'\"\n              [image]=\"image\"\n              [control]=\"form.get('image')\"\n            >\n            </app-upload-photo>\n          </div>\n        </div>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Name'\"\n          [labelAr]=\"'الاسم'\"\n          [fieldId]=\"'name'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Store Name'\"\n          [placeholderAr]=\"'اسم المتجر'\"\n          [tooltipMsg]=\"'English'\"\n          [control]=\"form.get('name')\"\n          [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n        >\n        </app-input-text>\n\n        <app-select\n          class=\"col-11_sm-24 grid\"\n          [label]=\"'Address'\"\n          [labelAr]=\"'العنوان'\"\n          [fieldId]=\"'address'\"\n          [initialSelectedItem]=\"initialSelectedPlace\"\n          [ItemsList]=\"selectPlacesList\"\n          [placeholder]=\"'Choose place'\"\n          [placeholderAr]=\"'اختر العنوان'\"\n          [fieldClass]=\"'col-18_md-24'\"\n          [required]=\"true\"\n          (itemselected)=\"selectPlace($event)\"\n        >\n        </app-select>\n\n        <app-input-text\n          class=\"col-11_sm-24\"\n          [label]=\"'Address'\"\n          [labelAr]=\"'العنوان تفصيلي'\"\n          [fieldId]=\"'detailedAddress'\"\n          [required]=\"true\"\n          type=\"text\"\n          [placeholder]=\"'Store detailed address'\"\n          [placeholderAr]=\"' اختر العنوان تفصيلي'\"\n          [tooltipMsg]=\"'Address in detail'\"\n          [control]=\"form.get('detailedAddress')\"\n          [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n        >\n        </app-input-text>\n      </div>\n      <div class=\"grid-right\">\n        <button\n          type=\"submit\"\n          (click)=\"onSubmit(form.value)\"\n          class=\"btn col-3_sm-5_xs-6 color1 round\"\n          [disabled]=\"!form.valid\"\n        >\n         {{ \"Submit\" | lowercase | translate }}\n        </button>\n        <button\n          type=\"button\"\n          [routerLink]=\"['/stores']\"\n          class=\"btn col-3_sm-5_xs-6 color2 round\"\n        >\n         {{ \"Cancel\" | lowercase | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { StoresComponent } from './stores.component';\nimport { AddStoreComponent } from './add-store/add-store.component';\nimport { EditStoreComponent } from './edit-store/edit-store.component';\n\nconst routes: Routes = [\n  { path: '', component: StoresComponent },\n  { path: 'add', component: AddStoreComponent },\n  { path: 'edit/:id', component: EditStoreComponent },\n];\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class StoresRoutingModule {}\n","<div class=\"grid-center-noGutter\">\n  <div class=\"col-20_sm-22_xs-23\" style=\"margin-top: 20px\">\n    <div class=\"card\">\n      <div class=\"card-header grid-noGutter\">\n        <span>{{ \"Stores\" | lowercase | translate }}</span>\n      </div>\n      <div class=\"card-body grid-center-noGutter\">\n        <div class=\"col-24 grid-spaceBetween-noGutter\">\n          <div class=\"card xs-hidden\">\n            <div class=\"card-body\">\n              <span\n                style=\"\n                  display: inline-block;\n                  background-color: #4899c2;\n                  padding: 15px;\n                  color: white;\n                \"\n              >\n                <i class=\"material-icons\">home</i>\n              </span>\n              <div style=\"display: inline-block; margin: 0 10px\">\n                <div style=\"color: #20a8d8; font-size: 18px; font-weight: 600\">\n                  {{ items.length }}\n                </div>\n                <div style=\"color: #73818f; font-size: 80%; font-weight: 700\">\n                  {{ \"Stores\" | lowercase | translate }}\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-top xs-24 grid-noGutter\" style=\"margin-top: 15px\">\n            <div class=\"grid-column-noGutter\">\n              <div class=\"\">\n                <a [routerLink]=\"['./add']\" class=\"btn color1 round addbtn\"\n                  >{{ \"Add\" | lowercase | translate }}\n                  {{ \"Store\" | lowercase | translate }}</a\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-24 grid-center-noGutter\" style=\"margin-top: 20px\">\n          <div class=\"col-24 grid-noGutter\">\n            <div\n              class=\"col-12_xs-24 grid-left-noGutter\"\n              style=\"margin-left: 10px\"\n            >\n              <label\n                class=\"col-24 grid-noGutter\"\n                style=\"font-weight: bold\"\n                for=\"\"\n                >{{ \"Search for\" | lowercase | translate }}</label\n              >\n              <div class=\"col-24 grid\">\n                <input\n                  type=\"text\"\n                  #FilterRecord\n                  class=\"form-control col\"\n                  placeholder=\"e.g. Name\"\n                />\n                <a\n                  (click)=\"FilterRecords(FilterRecord.value)\"\n                  class=\"btn col-4 color1 round search\"\n                >\n                  <span class=\"md-hidden\">{{\n                    \"search\" | lowercase | translate\n                  }}</span>\n                  <span><i class=\"material-icons\">search</i></span>\n                </a>\n                <a\n                  (click)=\"FilterRecords(''); FilterRecord.value = ''\"\n                  class=\"btn col-4 color2 round search\"\n                >\n                  <span class=\"md-hidden\">{{\n                    \"Clear\" | lowercase | translate\n                  }}</span>\n                  <span><i class=\"material-icons\">clear</i></span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"grid-right-noGutter\" style=\"margin-top: 20px\">\n      <button class=\"btn color5 round\" (click)=\"exportAs('xlsx')\">\n        {{ \"Export\" | lowercase | translate }}\n      </button>\n      <!-- <div class=\"dropdown\">\n            <button class=\"dropbtn\">Export</button> -->\n      <!-- <div class=\"dropdown-content\">\n              <a (click)=\"exportAs('xlsx')\">xlsx</a>\n              <a (click)=\"exportAs('pdf', 'landscape')\">pdf</a> -->\n      <!-- <a (click)=\"exportAs('png')\">png</a>\n                      <a (click)=\"exportAs('txt')\">txt</a>\n                      <a (click)=\"exportAs('csv')\">csv</a>\n                      <a (click)=\"exportAs('xml')\">xml</a> -->\n      <!-- </div> -->\n      <!-- </div> -->\n    </div>\n\n    <div class=\"grid-center-noGutter\" style=\"margin-top: 20px\">\n      <ng-container>\n        <ng-container *ngTemplateOutlet=\"table\"></ng-container>\n      </ng-container>\n    </div>\n  </div>\n</div>\n\n<ng-template #table>\n  <div>\n    <data-table\n      id=\"my-table\"\n      title=\"List of Stores\"\n      [items]=\"tableElements\"\n      [itemCount]=\"itemCount\"\n      [pageLimits]=\"limits\"\n      [limit]=\"limit\"\n      [pagination]=\"true\"\n      (reload)=\"reloadItems($event)\"\n      [noDataMessage]=\"'No data to show'\"\n    >\n      <data-table-column\n        [property]=\"'name'\"\n        [header]=\"arabic ? 'الاسم' : 'Name'\"\n        [sortable]=\"true\"\n      >\n      </data-table-column>\n\n      <data-table-column\n        [header]=\"arabic ? 'المكان' : 'Place'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.address?.name }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [header]=\"arabic ? 'الطلبات' : 'Orders'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{ item.orders.length }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'totalGainCollected'\"\n        [header]=\"arabic ? 'اجمالي الربح' : 'Total App gain'\"\n        [sortable]=\"true\"\n      >\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'gainToApp'\"\n        [header]=\"arabic ? 'الربح الحالي' : 'App gain'\"\n        [sortable]=\"true\"\n      >\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'profit'\"\n        [header]=\"arabic ? 'الربح' : 'Profit'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{\n            item.profitPercentage && item.profitPercentage !== 0\n              ? item.profitPercentage + \"%\"\n              : item.profitValue && item.profitValue !== 0\n              ? item.profitValue + \" EGP\"\n              : 0\n          }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column\n        [property]=\"'discount'\"\n        [header]=\"arabic ? 'الخصومات' : 'Discount'\"\n        [sortable]=\"true\"\n      >\n        <ng-template #dataTableCell let-item=\"item\">\n          <span>{{\n            item.discountPercentage && item.discountPercentage !== 0\n              ? item.discountPercentage + \"%\"\n              : item.discountValue && item.discountValue !== 0\n              ? item.discountValue + \" EGP\"\n              : 0\n          }}</span>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column [width]=\"68\" [header]=\"arabic ? 'الحالة' : 'Status'\">\n        <ng-template #dataTableCell let-item=\"item\">\n          <div>\n            <ng-container *ngIf=\"item.locked\"\n              ><span class=\"badge blocked\">locked</span></ng-container\n            >\n            <ng-container *ngIf=\"item.active\"\n              ><span class=\"badge active\">active</span>\n            </ng-container>\n            <ng-container *ngIf=\"!item.active\"\n              ><span class=\"badge deleted\">inactive</span></ng-container\n            >\n          </div>\n        </ng-template>\n      </data-table-column>\n\n      <data-table-column [width]=\"160\" [header]=\"arabic ? '' : 'Actions'\">\n        <ng-template #dataTableCell let-item=\"item\" class=\"grid-center\">\n          <a\n            [routerLink]=\"['./edit/', item._id]\"\n            class=\"pencil\"\n            [tooltip]=\"'Edit'\"\n            placement=\"bottom\"\n          >\n            <i class=\"material-icons\">colorize</i>\n          </a>\n          <a\n            (click)=\"\n              item.active\n                ? openModal(templateDeactivate, item._id)\n                : openModal(templateActivate, item._id)\n            \"\n            [ngClass]=\"item.active ? 'trash' : 'lock'\"\n            [tooltip]=\"item.active ? 'deactivate' : 'Activate'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">{{\n              item.active ? \"block\" : \"check_circle_outline\"\n            }}</i>\n          </a>\n          <a\n            (click)=\"openModal(templateProfit, item._id)\"\n            class=\"trash\"\n            tooltip=\"Collect\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">attach_money</i>\n          </a>\n          <a\n            (click)=\"\n              item.locked\n                ? openModal(templateUnlock, item._id)\n                : openModal(templateLock, item._id)\n            \"\n            [ngClass]=\"item.locked ? 'lock' : 'trash'\"\n            [tooltip]=\"item.locked ? 'unlock' : 'lock'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">{{\n              item.locked ? \"lock_open\" : \"lock\"\n            }}</i>\n          </a>\n          <a\n            (click)=\"\n              item.discount\n                ? openModal(templateDeleteDiscount, item._id)\n                : openModal(templateAddDiscount, item._id)\n            \"\n            [class]=\"item.discount ? 'trash' : 'lock'\"\n            [tooltip]=\"item.discount ? 'Delete discount' : 'Add discount'\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">qr_code_2</i>\n          </a>\n          <a\n            (click)=\"openModal(templateDelete, item._id)\"\n            class=\"trash\"\n            tooltip=\"Delete\"\n            placement=\"bottom\"\n            triggers=\"mouseenter:mouseleave\"\n          >\n            <i class=\"material-icons\">delete</i>\n          </a>\n        </ng-template>\n      </data-table-column>\n    </data-table>\n  </div>\n</ng-template>\n\n<ng-template #templateAddDiscount id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-user fa-lg mt-4\"></i> Do you want to add this product to a\n      store?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"col-24 grid-noGutter\">\n      <div class=\"col-24\">\n        <div class=\"col-24 grid\">\n          <app-input-radio\n            class=\"col-24\"\n            [label]=\"'Discount type'\"\n            [fieldId]=\"'discountType'\"\n            [items]=\"['percent', 'value']\"\n            [control]=\"discountForm.get('discountType')\"\n            [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n          ></app-input-radio>\n\n          <ng-container\n            *ngIf=\"discountForm.get('discountType').value === 'value'\"\n          >\n            <app-input-text\n              class=\"col-24\"\n              (change)=\"discountForm.get('discountPercentage').patchValue(0)\"\n              [label]=\"'Discount value'\"\n              [fieldId]=\"'discountValue'\"\n              type=\"number\"\n              [placeholder]=\"'Discount on this category'\"\n              [control]=\"discountForm.get('discountValue')\"\n              [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n            >\n            </app-input-text>\n          </ng-container>\n\n          <ng-container\n            *ngIf=\"discountForm.get('discountType').value === 'percent'\"\n          >\n            <app-input-text\n              class=\"col-24\"\n              (change)=\"discountForm.get('discountValue').patchValue(0)\"\n              [label]=\"'Discount percent'\"\n              [fieldId]=\"'discountPercentage'\"\n              type=\"number\"\n              [placeholder]=\"'Discount on this category'\"\n              [control]=\"discountForm.get('discountPercentage')\"\n              [fieldClass]=\"'col-19_xlg-18_lg-17_md-24'\"\n            >\n            </app-input-text>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"col-24 grid-noGutter\">\n      <div class=\"col-24 grid-noGutter\">\n        <div class=\"col-11_sm-24 form-group grid-center-middle-noGutter\">\n          <div class=\"col_sm-24 grid_sm-noGutter field-label\">\n            <label for=\"period\">for a period</label>\n          </div>\n\n          <div class=\"col-11_sm-24 grid\">\n            <label class=\"toggleButton\" tooltip=\"for specific time\">\n              <input\n                type=\"checkbox\"\n                id=\"period\"\n                [(ngModel)]=\"forPeriod\"\n                (change)=\"changePeriod($event)\"\n              />\n              <div>\n                <svg viewBox=\"0 0 44 44\">\n                  <path\n                    d=\"M14,24 L21,31 L39.7428882,11.5937758 C35.2809627,6.53125861 30.0333333,4 24,4 C12.95,4 4,12.95 4,24 C4,35.05 12.95,44 24,44 C35.05,44 44,35.05 44,24 C44,19.3 42.5809627,15.1645919 39.7428882,11.5937758\"\n                    transform=\"translate(-2.000000, -2.000000)\"\n                  ></path>\n                </svg>\n              </div>\n            </label>\n          </div>\n        </div>\n      </div>\n      <ng-container *ngIf=\"forPeriod\">\n        <div class=\"col-24 grid-middle-spaceBetween-noGutter\">\n          <label>Valid till: </label>\n          <div class=\"col-19_xlg-18_lg-17_md-24 grid-noGutter\">\n            <input\n              type=\"text\"\n              class=\"form-control col\"\n              bsDatepicker\n              autocomplete=\"off\"\n              placeholder=\"YYYY-MM-DD\"\n              [(bsValue)]=\"datePickerValue\"\n              [minDate]=\"minDate\"\n              [bsConfig]=\"{ isAnimated: true, adaptivePosition: true }\"\n            />\n            <input class=\"form-control col\" type=\"time\" [(ngModel)]=\"time\" />\n          </div>\n        </div>\n        <div style=\"height: 20px; width: 100%\"></div>\n      </ng-container>\n    </div>\n\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"addDiscount()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDeleteDiscount id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: red; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to Delete discount from\n      This store ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deleteDiscount()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDelete id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: red; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-trash fa-lg mt-4\"></i> Do you want to Delete This Element\n      ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deleteElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateActivate id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      Do you want to activate This Element ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"activateElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateDeactivate id=\"template2\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      Do you want to deactivate This Element ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"deactivateElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateLock id=\"template3\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: #0c425d; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-lock fa-lg mt-4\"></i> Do you want to lock this store?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"lockElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateUnlock id=\"template3\">\n  <div class=\"modal-header\">\n    <h4 style=\"color: #0c425d; font-weight: bold; justify-content: center\">\n      <i class=\"fa fa-lock fa-lg mt-4\"></i> Do you want to lock this store?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"unlockElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n\n<ng-template #templateProfit id=\"template4\">\n  <div class=\"modal-header\">\n    <h4 style=\"font-weight: bold; justify-content: center\">\n      Have you collected the Profit of this store ?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"close pull-right\"\n      aria-label=\"Close\"\n      (click)=\"modalRef.hide()\"\n    >\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"grid-right\">\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color1 round\"\n        style=\"margin-right: 10px\"\n        (click)=\"CollectElement()\"\n      >\n        Confirm\n      </button>\n      <button\n        type=\"button\"\n        class=\"btn col-5_sm-5_xs-6 color2 round\"\n        (click)=\"modalRef.hide()\"\n      >\n        {{ \"Cancel\" | lowercase | translate }}\n      </button>\n    </div>\n  </div>\n</ng-template>\n","import { Component, OnInit, TemplateRef, OnDestroy } from '@angular/core';\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { DataTableResource } from 'angular7-data-table';\n\nimport { LanguageService } from '../../services/language.service';\nimport { Subscription } from 'rxjs';\n\nimport { StoresService } from './stores.service';\n\nimport { FormBuilder } from '@angular/forms';\n\nimport {\n  ExportAsService,\n  ExportAsConfig,\n  SupportedExtensions,\n} from 'ngx-export-as';\n\n@Component({\n  selector: 'app-stores',\n  templateUrl: './stores.component.html',\n  styleUrls: ['./stores.component.scss'],\n})\nexport class StoresComponent implements OnInit, OnDestroy {\n  itemResource;\n  items = [];\n  itemCount = 0;\n  limit = 20;\n  limits = [20, 25, 50];\n  offset = 1;\n  tableElements = [];\n\n  modalRef: any;\n\n  private langSub: Subscription;\n  currentLang;\n  arabic: boolean;\n\n  constructor(\n    private storesService: StoresService,\n    private modalService: BsModalService,\n    private languageService: LanguageService,\n    private toastr: ToastrService,\n    private spinner: NgxSpinnerService,\n    private exportAsService: ExportAsService,\n    private fb: FormBuilder\n  ) {\n    this.setNow();\n\n    this.langSub = this.languageService.currentLanguage.subscribe((lang) => {\n      this.currentLang = lang;\n      if (this.currentLang && this.currentLang === 'ar') {\n        this.arabic = true;\n      } else {\n        this.arabic = false;\n      }\n    });\n  }\n  ngOnDestroy(): void {\n    this.langSub.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.spinner.show();\n\n    this.storesService.getAll();\n\n    this.storesService.stores.subscribe(async (data) => {\n      console.log(data);\n\n      if (data) {\n        this.items = data;\n\n        this.itemResource = new DataTableResource(data);\n        this.itemCount = await this.itemResource.count();\n        this.reloadItems({\n          offset: 0,\n          limit: this.limit,\n        });\n      }\n    });\n\n    this.spinner.hide();\n  }\n\n  async reloadItems(event) {\n    if (this.itemResource) {\n      this.tableElements = await this.itemResource.query(event);\n    }\n  }\n\n  async FilterRecords(FilterRecord) {\n    this.tableElements = this.items;\n    if (FilterRecord !== '') {\n      this.tableElements = this.items.filter((item) =>\n        item.name.toLowerCase().includes(FilterRecord)\n      );\n    }\n\n    this.itemResource = new DataTableResource(this.tableElements);\n    this.itemCount = await this.itemResource.count();\n    this.reloadItems({\n      offset: 0,\n      limit: this.limit,\n    });\n  }\n\n  itemId;\n  openModal(template: TemplateRef<any>, id) {\n    this.itemId = id;\n    this.modalRef = this.modalService.show(template);\n  }\n\n  deleteElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.deleteOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  discountForm = this.fb.group({\n    discountType: [''],\n    discountValue: [0],\n    discountPercentage: [0],\n    validTill: [''],\n  });\n\n  minDate = new Date();\n  datePickerValue: Date = new Date();\n  time: string;\n  forPeriod = false;\n  setNow() {\n    let now = new Date();\n    let hours = ('0' + now.getHours()).slice(-2);\n    let minutes = ('0' + now.getMinutes()).slice(-2);\n    let str = hours + ':' + minutes;\n    this.time = str;\n  }\n  changePeriod(event) {\n    if (!event.target.checked) {\n      this.discountForm.get('validTill').patchValue(undefined);\n    }\n  }\n  addDiscount() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n\n    if (this.forPeriod) {\n      var validTill = new Date(\n        this.datePickerValue.getFullYear(),\n        this.datePickerValue.getMonth(),\n        this.datePickerValue.getDate(),\n        parseInt(this.time.split(':')[0]),\n        parseInt(this.time.split(':')[1]),\n        0\n      );\n\n      this.discountForm.get('validTill').patchValue(validTill);\n    }\n\n    this.storesService\n      .addDiscount(this.discountForm.value, this.itemId)\n      .subscribe(\n        (res) => {\n          console.log(res);\n          this.toastr.info(res['message'], 'Info');\n          this.items = [];\n\n          this.discountForm.reset();\n          this.storesService.getAll();\n        },\n        (error) => {\n          console.log(error);\n          this.toastr.error(error.error.message, 'Error');\n          // this.error.next(error.error.message);\n        }\n      );\n\n    this.spinner.hide();\n  }\n\n  deleteDiscount() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.deleteDiscount(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  lockElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.lockOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  unlockElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.unlockOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  CollectElement() {\n    this.spinner.show();\n    this.modalRef.hide();\n    this.storesService.collect(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n    this.spinner.hide();\n  }\n\n  activateElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.activateOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  deactivateElement() {\n    this.spinner.show();\n\n    this.modalRef.hide();\n    this.storesService.deactivateOne(this.itemId).subscribe(\n      (res) => {\n        console.log(res);\n        this.toastr.info(res['message'], 'Info');\n        this.items = [];\n\n        this.storesService.getAll();\n      },\n      (error) => {\n        console.log(error);\n        this.toastr.error(error.error.message, 'Error');\n        // this.error.next(error.error.message);\n      }\n    );\n\n    this.spinner.hide();\n  }\n\n  exportAsConfig: ExportAsConfig = {\n    type: 'pdf',\n    elementIdOrContent: 'my-table',\n    options: {\n      jsPDF: {\n        orientation: 'landscape',\n      },\n    },\n  };\n  exportAs(type: SupportedExtensions, opt?: string) {\n    this.exportAsConfig.type = type;\n    if (opt) {\n      this.exportAsConfig.options.jsPDF.orientation = opt;\n    }\n    this.exportAsService.save(this.exportAsConfig, 'Stores').subscribe(() => {\n      // save started\n    });\n    this.exportAsService.get(this.exportAsConfig).subscribe((content) => {\n      console.log(content);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { DataTableModule } from 'angular7-data-table';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\nimport { ExportAsModule } from 'ngx-export-as';\n\nimport { StoresRoutingModule } from './stores-routing.module';\n\nimport { FormFieldsModule } from 'src/app/reusable-components/form-fields/form-fields.module';\n\nimport { StoresComponent } from './stores.component';\nimport { AddStoreComponent } from './add-store/add-store.component';\nimport { EditStoreComponent } from './edit-store/edit-store.component';\n\nimport { SharedModule } from '../../shared/shared.module';\n\n@NgModule({\n  declarations: [StoresComponent, AddStoreComponent, EditStoreComponent],\n  imports: [\n    CommonModule,\n    StoresRoutingModule,\n    FormsModule,\n    FormFieldsModule,\n    DataTableModule.forRoot(),\n    BsDatepickerModule.forRoot(),\n    TooltipModule.forRoot(),\n    ModalModule.forRoot(),\n    ExportAsModule,\n    SharedModule,\n  ],\n})\nexport class StoresModule {}\n"]}